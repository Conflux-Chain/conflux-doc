<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>JavaScript API - Conflux Documentation</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">Conflux Documentation</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Welcome to Conflux</a>
                            </li>
                            <li >
                                <a href="../install/">Installation</a>
                            </li>
                            <li >
                                <a href="../get_started/">Getting Started</a>
                            </li>
                            <li >
                                <a href="../json-rpc/">JSON-RPC API</a>
                            </li>
                            <li class="active">
                                <a href="./">JavaScript API</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../json-rpc/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="disabled">
                                <a rel="prev" >
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#getting-started-with-confluxweb">Getting Started with ConfluxWeb</a></li>
        <li class="main "><a href="#confluxweb-by-example">ConfluxWeb by Example</a></li>
            <li><a href="#hash-time-locked-contract-htlc">Hash Time Locked Contract (HTLC)</a></li>
        <li class="main "><a href="#confluxweb-api-reference">ConfluxWeb API Reference</a></li>
            <li><a href="#confluxwebproviders">ConfluxWeb.providers</a></li>
            <li><a href="#confluxwebmodules">ConfluxWeb.modules</a></li>
            <li><a href="#confluxwebutils">ConfluxWeb.utils</a></li>
            <li><a href="#confluxwebversion">ConfluxWeb.version</a></li>
            <li><a href="#confluxwebcurrentprovider">ConfluxWeb.currentProvider</a></li>
            <li><a href="#confluxwebsetprovider">ConfluxWeb.setProvider</a></li>
        <li class="main "><a href="#confluxwebcfxcontract">ConfluxWeb.cfx.Contract</a></li>
            <li><a href="#confluxwebcfxcontractabimodel">ConfluxWeb.cfx.Contract.abiModel</a></li>
            <li><a href="#confluxwebcfxcontractaddress">ConfluxWeb.cfx.Contract.address</a></li>
            <li><a href="#confluxwebcfxcontractdefaultgas">ConfluxWeb.cfx.Contract.defaultGas</a></li>
            <li><a href="#confluxwebcfxcontractdefaultgasprice">ConfluxWeb.cfx.Contract.defaultGasPrice</a></li>
            <li><a href="#confluxwebcfxcontractmethods">ConfluxWeb.cfx.Contract.methods</a></li>
            <li><a href="#confluxwebcfxcontractconstructor">ConfluxWeb.cfx.Contract.constructor</a></li>
            <li><a href="#confluxwebcfxcontractdeploy">ConfluxWeb.cfx.Contract.deploy</a></li>
            <li><a href="#confluxwebcfxcontractclone">ConfluxWeb.cfx.Contract.clone</a></li>
        <li class="main "><a href="#confluxwebcfx">ConfluxWeb.cfx</a></li>
            <li><a href="#confluxwebcfxdefaultaccount">ConfluxWeb.cfx.defaultAccount</a></li>
            <li><a href="#confluxwebcfxdefaultepoch">ConfluxWeb.cfx.defaultEpoch</a></li>
            <li><a href="#confluxwebcfxcurrentprovider">ConfluxWeb.cfx.currentProvider</a></li>
            <li><a href="#confluxwebcfxsetprovider">ConfluxWeb.cfx.setProvider</a></li>
            <li><a href="#confluxwebcfxgetgasprice">ConfluxWeb.cfx.getGasPrice</a></li>
            <li><a href="#confluxwebcfxgetepochnumber">ConfluxWeb.cfx.getEpochNumber</a></li>
            <li><a href="#confluxwebcfxgetbalance">ConfluxWeb.cfx.getBalance</a></li>
            <li><a href="#confluxwebcfxgetcode">ConfluxWeb.cfx.getCode</a></li>
            <li><a href="#confluxwebcfxgetblock">ConfluxWeb.cfx.getBlock</a></li>
            <li><a href="#confluxwebcfxgettransaction">ConfluxWeb.cfx.getTransaction</a></li>
            <li><a href="#confluxwebcfxgettransactioncount">ConfluxWeb.cfx.getTransactionCount</a></li>
            <li><a href="#confluxwebcfxsendsignedtransaction">ConfluxWeb.cfx.sendSignedTransaction</a></li>
            <li><a href="#confluxwebcfxsigntransaction">ConfluxWeb.cfx.signTransaction</a></li>
            <li><a href="#confluxwebcfxcall">ConfluxWeb.cfx.call</a></li>
            <li><a href="#confluxwebcfxestimategas">ConfluxWeb.cfx.estimateGas</a></li>
            <li><a href="#confluxwebcfxgettransactionreceipt">ConfluxWeb.cfx.getTransactionReceipt</a></li>
            <li><a href="#confluxwebcfxgetpastlogs">ConfluxWeb.cfx.getPastLogs</a></li>
        <li class="main "><a href="#confluxwebcfxaccount">ConfluxWeb.cfx.account</a></li>
            <li><a href="#confluxwebcfxaccountcreate">ConfluxWeb.cfx.account.create</a></li>
            <li><a href="#confluxwebcfxaccountprivatekeytoaccount">ConfluxWeb.cfx.account.privateKeyToAccount</a></li>
            <li><a href="#confluxwebcfxaccountrecovertransaction">ConfluxWeb.cfx.account.recoverTransaction</a></li>
            <li><a href="#confluxwebcfxaccounthashmessage">ConfluxWeb.cfx.account.hashMessage</a></li>
            <li><a href="#confluxwebcfxaccountsign">ConfluxWeb.cfx.account.sign</a></li>
            <li><a href="#confluxwebcfxaccountrecover">ConfluxWeb.cfx.account.recover</a></li>
        <li class="main "><a href="#confluxwebcfxaccountwallet">ConfluxWeb.cfx.account.wallet</a></li>
            <li><a href="#confluxwebcfxaccountwalletcreate">ConfluxWeb.cfx.account.wallet.create</a></li>
            <li><a href="#confluxwebcfxaccountwalletadd">ConfluxWeb.cfx.account.wallet.add</a></li>
            <li><a href="#confluxwebcfxaccountwalletremove">ConfluxWeb.cfx.account.wallet.remove</a></li>
            <li><a href="#confluxwebcfxaccountwalletclear">ConfluxWeb.cfx.account.wallet.clear</a></li>
        <li class="main "><a href="#confluxwebcfxcontractmethods_1">ConfluxWeb.cfx.Contract.methods</a></li>
            <li><a href="#confluxwebcfxcontractmethodsencodeabi">ConfluxWeb.cfx.Contract.methods.encodeABI</a></li>
            <li><a href="#confluxwebcfxcontractmethodsestimategas">ConfluxWeb.cfx.Contract.methods.estimateGas</a></li>
            <li><a href="#confluxwebcfxcontractmethodscall">ConfluxWeb.cfx.Contract.methods.call</a></li>
            <li><a href="#confluxwebcfxcontractmethodssend">ConfluxWeb.cfx.Contract.methods.send</a></li>
        <li class="main "><a href="#confluxwebutils_1">ConfluxWeb.utils</a></li>
            <li><a href="#confluxwebutilsrandomhex">ConfluxWeb.utils.randomHex</a></li>
            <li><a href="#confluxwebutilsisbn">ConfluxWeb.utils.isBN</a></li>
            <li><a href="#confluxwebutilssha3">ConfluxWeb.utils.sha3</a></li>
            <li><a href="#confluxwebutilssoliditysha3">ConfluxWeb.utils.soliditySha3</a></li>
            <li><a href="#confluxwebutilsishex">ConfluxWeb.utils.isHex</a></li>
            <li><a href="#confluxwebutilsishexstrict">ConfluxWeb.utils.isHexStrict</a></li>
            <li><a href="#confluxwebutilsisaddress">ConfluxWeb.utils.isAddress</a></li>
            <li><a href="#confluxwebutilstochecksumaddress">ConfluxWeb.utils.toChecksumAddress</a></li>
            <li><a href="#confluxwebutilscheckaddresschecksum">ConfluxWeb.utils.checkAddressChecksum</a></li>
            <li><a href="#confluxwebutilstohex">ConfluxWeb.utils.toHex</a></li>
            <li><a href="#confluxwebutilstobn">ConfluxWeb.utils.toBN</a></li>
            <li><a href="#confluxwebutilshextonumber">ConfluxWeb.utils.hexToNumber</a></li>
            <li><a href="#confluxwebutilshextonumberstring">ConfluxWeb.utils.hexToNumberString</a></li>
            <li><a href="#confluxwebutilsnumbertohex">ConfluxWeb.utils.numberToHex</a></li>
            <li><a href="#confluxwebutilshextoutf8">ConfluxWeb.utils.hexToUtf8</a></li>
            <li><a href="#confluxwebutilshextoascii">ConfluxWeb.utils.hexToAscii</a></li>
            <li><a href="#confluxwebutilsutf8tohex">ConfluxWeb.utils.utf8ToHex</a></li>
            <li><a href="#confluxwebutilsasciitohex">ConfluxWeb.utils.asciiToHex</a></li>
            <li><a href="#confluxwebutilshextobytes">ConfluxWeb.utils.hexToBytes</a></li>
            <li><a href="#confluxwebutilsbytestohex">ConfluxWeb.utils.bytesToHex</a></li>
            <li><a href="#confluxwebutilstodrip">ConfluxWeb.utils.toDrip</a></li>
            <li><a href="#confluxwebutilsfromdrip">ConfluxWeb.utils.fromDrip</a></li>
            <li><a href="#confluxwebutilspadleft">ConfluxWeb.utils.padLeft</a></li>
            <li><a href="#confluxwebutilspadright">ConfluxWeb.utils.padRight</a></li>
            <li><a href="#confluxwebutilstotwoscomplement">ConfluxWeb.utils.toTwosComplement</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<hr />
<h1 id="getting-started-with-confluxweb">Getting Started with ConfluxWeb<a class="headerlink" href="#getting-started-with-confluxweb" title="Permanent link">&para;</a></h1>
<p>The conflux-web library is a collection of modules which contain specific functionality for the conflux ecosystem.</p>
<blockquote>
<p>The <code>conflux-web-cfx</code> is for the conflux blockchain and smart contracts.</p>
<p>The <code>conflux-web-utils</code> contains useful helper functions for Dapp developers.</p>
</blockquote>
<ul>
<li>Adding conflux-web</li>
</ul>
<p>First you need to get conflux-web into your project. This can be done using the following methods:</p>
<p>npm: <code>npm install conflux-web</code></p>
<p>After that you need to create a confluxWeb instance and set a provider. Normally you should connect to a remote/local node.</p>
<pre><code class="js">const ConfluxWeb = require('conflux-web');
const confluxWeb = new ConfluxWeb('http://testnet-jsonrpc.conflux-chain.org:12537');
</code></pre>

<p>Thatâ€™s it! now you can use the confluxWeb object.</p>
<ul>
<li>Using Promises</li>
</ul>
<p>All of functions use asynchronous HTTP requests and return promises by default:</p>
<pre><code class="js">const ConfluxWeb = require('conflux-web');
const confluxWeb = new ConfluxWeb('http://testnet-jsonrpc.conflux-chain.org:12537');
confluxWeb.cfx.getEpochNumber().then(console.log);
</code></pre>

<ul>
<li>A note on big numbers</li>
</ul>
<p>You will always get a BigNumber object for number values as JavaScript is not able to handle big numbers correctly. Look at the following examples:</p>
<pre><code class="js">&quot;101010100324325345346456456456456456456&quot;
// &quot;101010100324325345346456456456456456456&quot;
101010100324325345346456456456456456456
// 1.0101010032432535e+38
</code></pre>

<p>ConfluxWeb depends on the BN.js library for big numbers, See the <a href="https://github.com/indutny/bn.js/">BN.js</a> documentation for details.</p>
<h1 id="confluxweb-by-example">ConfluxWeb by Example<a class="headerlink" href="#confluxweb-by-example" title="Permanent link">&para;</a></h1>
<h2 id="hash-time-locked-contract-htlc">Hash Time Locked Contract (HTLC)<a class="headerlink" href="#hash-time-locked-contract-htlc" title="Permanent link">&para;</a></h2>
<p><a href="../javascript-example/">Here</a> we brought you a ConfluxWeb example. 
You can learn how to develop a Hash Time Locked Contract(HTLC) with ConfluxWeb API.</p>
<h1 id="confluxweb-api-reference">ConfluxWeb API Reference<a class="headerlink" href="#confluxweb-api-reference" title="Permanent link">&para;</a></h1>
<h2 id="confluxwebproviders">ConfluxWeb.providers<a class="headerlink" href="#confluxwebproviders" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Class attribute</p>
</blockquote>
<p><code>object</code></p>
<h3 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; ConfluxWeb.providers
 { HttpProvider: [Function: HttpProvider$1],
  WebsocketProvider: [Function: WebsocketProvider$1],
  IpcProvider: [Function: IpcProvider$1] }
</code></pre>

<h2 id="confluxwebmodules">ConfluxWeb.modules<a class="headerlink" href="#confluxwebmodules" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Class attribute</p>
</blockquote>
<p><code>object</code></p>
<h3 id="example_1">Example<a class="headerlink" href="#example_1" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; ConfluxWeb.modules
 { Cfx: [Function: Cfx], Net: [Function: Net] }
</code></pre>

<h2 id="confluxwebutils">ConfluxWeb.utils<a class="headerlink" href="#confluxwebutils" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Class attribute
Object attribute</p>
</blockquote>
<p>Property of ConfluxWeb class and instance of ConfluxWeb, See confluxWeb.utils for more.</p>
<p><code>object</code></p>
<h3 id="example_2">Example<a class="headerlink" href="#example_2" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; ConfluxWeb.utils
 {...}

 &gt; confluxWeb.utils
 {...}
</code></pre>

<h2 id="confluxwebversion">ConfluxWeb.version<a class="headerlink" href="#confluxwebversion" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Object attribute</p>
</blockquote>
<p>current version</p>
<p><code>string</code></p>
<h3 id="example_3">Example<a class="headerlink" href="#example_3" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.version
 0.1.21-alpha.0
</code></pre>

<h2 id="confluxwebcurrentprovider">ConfluxWeb.currentProvider<a class="headerlink" href="#confluxwebcurrentprovider" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Object attribute</p>
</blockquote>
<p>current provider instance</p>
<p><code>object</code></p>
<h3 id="example_4">Example<a class="headerlink" href="#example_4" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.currentProvider;
 HttpProvider {
 host: 'http://testnet-jsonrpc.conflux-chain.org:12537',
 ...
 }
</code></pre>

<h2 id="confluxwebsetprovider">ConfluxWeb.setProvider<a class="headerlink" href="#confluxwebsetprovider" title="Permanent link">&para;</a></h2>
<p>Will change the provider for its module.</p>
<blockquote>
<p>NOTE: When called on the umbrella package cfx it will also set the provider for all sub modules confluxWeb.cfx, etc.</p>
</blockquote>
<p><code>function setProvider(provider)</code></p>
<h3 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>provider</td>
<td>object</td>
<td>true</td>
<td></td>
<td>A valid provider.</td>
</tr>
</tbody>
</table>
<h3 id="return">Return<a class="headerlink" href="#return" title="Permanent link">&para;</a></h3>
<p><code>boolean</code> </p>
<h3 id="example_5">Example<a class="headerlink" href="#example_5" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; const ConfluxWeb = require('conflux-web');
 &gt; const confluxWeb = new ConfluxWeb('http://testnet-jsonrpc.conflux-chain.org:12537');
 &gt; confluxWeb.currentProvider
 HttpProvider {
  host: 'http://testnet-jsonrpc.conflux-chain.org:12537',
  ...
 }
 &gt; confluxWeb.setProvider(new ConfluxWeb.providers.HttpProvider('http://localhost:12537'));
 true
 &gt; confluxWeb.currentProvider
 HttpProvider {
   host: 'http://localhost:12537'
   ...
 }
</code></pre>

<pre><code class="js"> &gt; confluxWeb.setProvider('http://localhost:12537'); // same as above
 true
</code></pre>

<pre><code class="js"> &gt; confluxWeb.currentProvider.host
 &quot;http://testnet-jsonrpc.conflux-chain.org:12537&quot;
 &gt; confluxWeb.cfx.currentProvider.host
 &quot;http://testnet-jsonrpc.conflux-chain.org:12537&quot;
 &gt; confluxWeb.setProvider('http://localhost:12537') // change all provider
 &gt; confluxWeb.currentProvider.host
 &quot;http://localhost:12537&quot;
 &gt; confluxWeb.cfx.currentProvider.host
 &quot;http://localhost:12537&quot;
</code></pre>

<hr />
<h1 id="confluxwebcfxcontract">ConfluxWeb.cfx.Contract<a class="headerlink" href="#confluxwebcfxcontract" title="Permanent link">&para;</a></h1>
<h2 id="confluxwebcfxcontractabimodel">ConfluxWeb.cfx.Contract.abiModel<a class="headerlink" href="#confluxwebcfxcontractabimodel" title="Permanent link">&para;</a></h2>
<p>abi object</p>
<p><code>Object</code></p>
<h3 id="example_6">Example<a class="headerlink" href="#example_6" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; contract.abiModel
 AbiModel {
  abi:
   { methods:
      { count: [AbiItemModel],
        '0x06661abd': [AbiItemModel],
        'count()': [AbiItemModel],
        inc: [AbiItemModel],
        '0x812600df': [AbiItemModel],
        'inc(uint256)': [AbiItemModel],
        contractConstructor: [AbiItemModel] },
     events: {} } }
</code></pre>

<h2 id="confluxwebcfxcontractaddress">ConfluxWeb.cfx.Contract.address<a class="headerlink" href="#confluxwebcfxcontractaddress" title="Permanent link">&para;</a></h2>
<p>The address used for this contract instance.
All transactions generated by confluxWeb from this contract will contain this address as the "to".</p>
<p><code>string</code></p>
<h3 id="example_7">Example<a class="headerlink" href="#example_7" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; contract.address; // What you set when new contract.
 &quot;0xf02dbcf0eff48e174ca59f1975a7b0042c4d02b7&quot;
</code></pre>

<h2 id="confluxwebcfxcontractdefaultgas">ConfluxWeb.cfx.Contract.defaultGas<a class="headerlink" href="#confluxwebcfxcontractdefaultgas" title="Permanent link">&para;</a></h2>
<p>The default maximum gas provided for a transaction (gasLimit).</p>
<p><code>number</code></p>
<h2 id="confluxwebcfxcontractdefaultgasprice">ConfluxWeb.cfx.Contract.defaultGasPrice<a class="headerlink" href="#confluxwebcfxcontractdefaultgasprice" title="Permanent link">&para;</a></h2>
<p>The default gas price in drip to use for transactions.</p>
<p><code>number</code></p>
<h2 id="confluxwebcfxcontractmethods">ConfluxWeb.cfx.Contract.methods<a class="headerlink" href="#confluxwebcfxcontractmethods" title="Permanent link">&para;</a></h2>
<p>Creates a transaction object for that method, which then can be called, send, estimated.
The methods of this smart contract are available through:</p>
<ul>
<li>
<p>The name: myContract.methods.myMethod(123)</p>
</li>
<li>
<p>The name with parameters: myContract.methods<a href="123">'myMethod(uint256)'</a></p>
</li>
<li>
<p>The signature: myContract.methods<a href="123">'0x58cf5f10'</a>
This allows calling functions with same name but different parameters from the JavaScript contract object.</p>
</li>
</ul>
<p><code>Proxy</code></p>
<h3 id="example_8">Example<a class="headerlink" href="#example_8" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; contract.address;
 &quot;0x079352147ce2de227af6fa963f603a35aed8e601&quot;

 &gt; await contract.methods.count().call();
 BigNumber { _hex: '0xfe' }

 &gt; await contract.methods.inc(1).call(); // call will get function return value
 BigNumber { _hex: '0xff' }

 &gt; await contract.methods.count().call(); // can not change data in block chain by `call`
 BigNumber { _hex: '0xfe' }

 &gt; await contract.methods.inc(1).send({
    from: '0xbbd9e9be525ab967e633bcdaeac8bd5723ed4d6b',
    gas: 100000000,
    gasPrice: 100
  }); // send a transaction
 &quot;0xa3b0ca9cfbbdc624db53fc5df39849560ffa2d952b7e9af894524d45479cfa0a&quot;
 &gt; await confluxWeb.cfx.getTransactionReceipt('0xa3b0ca9cfbbdc624db53fc5df39849560ffa2d952b7e9af894524d45479cfa0a');
 {
   status: true,
   ...
 }
 &gt; await contract.methods.count().call(); // change data in block chain by `send`
 BigNumber { _hex: '0xff' }
</code></pre>

<h2 id="confluxwebcfxcontractconstructor">ConfluxWeb.cfx.Contract.constructor<a class="headerlink" href="#confluxwebcfxcontractconstructor" title="Permanent link">&para;</a></h2>
<p>Creates a new contract instance with all its methods and events defined in its json interface abi object.</p>
<p><code>function constructor(abi,address,options)</code></p>
<h3 id="parameters_1">Parameters<a class="headerlink" href="#parameters_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>abi</td>
<td>object|array</td>
<td>true</td>
<td></td>
<td>The abi json interface of the contract.</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>false</td>
<td></td>
<td>The address where the contract is deployed. If undefined, you should deploy contract by data.</td>
</tr>
<tr>
<td>options</td>
<td>object</td>
<td>false</td>
<td></td>
<td></td>
</tr>
<tr>
<td>options.data</td>
<td>string</td>
<td>false</td>
<td></td>
<td>The byte code of the contract. Used when the contract gets deployed.</td>
</tr>
<tr>
<td>options.from</td>
<td>string</td>
<td>false</td>
<td></td>
<td>The address transactions should be made from.</td>
</tr>
<tr>
<td>options.gasPrice</td>
<td>string</td>
<td>false</td>
<td></td>
<td>The gas price in drip to use for transactions.</td>
</tr>
<tr>
<td>options.gas</td>
<td>number</td>
<td>false</td>
<td></td>
<td>The maximum gas provided for a transaction (gasLimit).</td>
</tr>
</tbody>
</table>
<h3 id="return_1">Return<a class="headerlink" href="#return_1" title="Permanent link">&para;</a></h3>
<p><code>void</code></p>
<h3 id="example_9">Example<a class="headerlink" href="#example_9" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.wallet.add('0xa816a06117e572ca7ae2f786a046d2bc478051d0717bf5cc4f5397923258d393'); // KEY
 &gt; const contract = new confluxWeb.cfx.Contract(
 [
 {
        &quot;constant&quot;: true,
        &quot;inputs&quot;: [],
        &quot;name&quot;: &quot;count&quot;,
        &quot;outputs&quot;: [
          {
            &quot;internalType&quot;: &quot;uint256&quot;,
            &quot;name&quot;: &quot;&quot;,
            &quot;type&quot;: &quot;uint256&quot;
          }
        ],
        &quot;payable&quot;: false,
        &quot;stateMutability&quot;: &quot;view&quot;,
        &quot;type&quot;: &quot;function&quot;
      },
 {
        &quot;constant&quot;: false,
        &quot;inputs&quot;: [
          {
            &quot;internalType&quot;: &quot;uint256&quot;,
            &quot;name&quot;: &quot;num&quot;,
            &quot;type&quot;: &quot;uint256&quot;
          }
        ],
        &quot;name&quot;: &quot;inc&quot;,
        &quot;outputs&quot;: [
          {
            &quot;internalType&quot;: &quot;uint256&quot;,
            &quot;name&quot;: &quot;&quot;,
            &quot;type&quot;: &quot;uint256&quot;
          }
        ],
        &quot;payable&quot;: false,
        &quot;stateMutability&quot;: &quot;nonpayable&quot;,
        &quot;type&quot;: &quot;function&quot;
       },
 {
        &quot;inputs&quot;: [
          {
            &quot;internalType&quot;: &quot;uint256&quot;,
            &quot;name&quot;: &quot;num&quot;,
            &quot;type&quot;: &quot;uint256&quot;
          }
        ],
        &quot;payable&quot;: false,
        &quot;stateMutability&quot;: &quot;nonpayable&quot;,
        &quot;type&quot;: &quot;constructor&quot;
      }
 ],
 );
</code></pre>

<h2 id="confluxwebcfxcontractdeploy">ConfluxWeb.cfx.Contract.deploy<a class="headerlink" href="#confluxwebcfxcontractdeploy" title="Permanent link">&para;</a></h2>
<p><code>function deploy(options)</code></p>
<h3 id="parameters_2">Parameters<a class="headerlink" href="#parameters_2" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td>object</td>
<td>true</td>
<td></td>
<td></td>
</tr>
<tr>
<td>options.data</td>
<td>string</td>
<td>false</td>
<td></td>
<td>contract data</td>
</tr>
<tr>
<td>options.arguments</td>
<td>array</td>
<td>false</td>
<td></td>
<td>contract constructor parameters</td>
</tr>
</tbody>
</table>
<h3 id="return_2">Return<a class="headerlink" href="#return_2" title="Permanent link">&para;</a></h3>
<p><code>Object</code> </p>
<h3 id="example_10">Example<a class="headerlink" href="#example_10" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await contract.deploy({arguments: [254]}).send({
    from: '0xbbd9e9be525ab967e633bcdaeac8bd5723ed4d6b',
    gas: 100000000,
    gasPrice: 819
 }); // deploy contract by `send`
 &quot;0x6d1b5d68540faac893e5d5dcfed7fc253a2fd6936634f917c82856a0b19c3838&quot;

 &gt; await confluxWeb.cfx.getTransactionReceipt('0xd1d5b66b0d3d215f042f3e4907a3bf0acf5984972527fbca45eb67286835260d');
 {
   status: true,
   contractCreated: '0x079352147ce2de227af6fa963f603a35aed8e601',
   ...
 }

 &gt; contract.address = '0x079352147ce2de227af6fa963f603a35aed8e601'; // after deploy, you should add address to contract
</code></pre>

<h2 id="confluxwebcfxcontractclone">ConfluxWeb.cfx.Contract.clone<a class="headerlink" href="#confluxwebcfxcontractclone" title="Permanent link">&para;</a></h2>
<p>Clones the current contract instance.</p>
<p><code>function clone()</code></p>
<h3 id="parameters_3">Parameters<a class="headerlink" href="#parameters_3" title="Permanent link">&para;</a></h3>
<p><code>void</code></p>
<h3 id="return_3">Return<a class="headerlink" href="#return_3" title="Permanent link">&para;</a></h3>
<p><code>Object</code> The new contract instance.</p>
<h3 id="example_11">Example<a class="headerlink" href="#example_11" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; const clone = contract.clone()
 &gt; contract.defaultGas === clone.defaultGas;
 true

 &gt; contract.defaultGasPrice === clone.defaultGasPrice;
 true

 &gt; contract.address === clone.address; // only address difference, and clone one address to be undefined
 false
</code></pre>

<hr />
<h1 id="confluxwebcfx">ConfluxWeb.cfx<a class="headerlink" href="#confluxwebcfx" title="Permanent link">&para;</a></h1>
<h2 id="confluxwebcfxdefaultaccount">ConfluxWeb.cfx.defaultAccount<a class="headerlink" href="#confluxwebcfxdefaultaccount" title="Permanent link">&para;</a></h2>
<p>This default address is used as the default "from" property.</p>
<p>20 Bytes: Any Conflux address. You should have the private key for that address in your node or keystore.</p>
<p><code>string|undefined</code></p>
<h3 id="example_12">Example<a class="headerlink" href="#example_12" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.defaultAccount
 undefined

 &gt; confluxWeb.cfx.defaultAccount = '0xbbd9e9be525ab967e633bcdaeac8bd5723ed4d6b';
 &gt; confluxWeb.cfx.defaultAccount
 &quot;0xbbd9e9be525ab967e633bcdaeac8bd5723ed4d6b&quot;
</code></pre>

<h2 id="confluxwebcfxdefaultepoch">ConfluxWeb.cfx.defaultEpoch<a class="headerlink" href="#confluxwebcfxdefaultepoch" title="Permanent link">&para;</a></h2>
<p>When requests are made that act on the state of conflux,
the default epoch parameter determines the height of the epoch.</p>
<p>The following options are possible for the default epoch parameter:</p>
<ul>
<li><code>number</code>: An integer epoch number.</li>
<li><code>"earliest"</code>: The earliest epoch where the genesis block in.</li>
<li><code>"latest_state"</code>: The latest epoch where the latest block with an executed state in. (default)</li>
<li><code>"latest_mined"</code>: The latest epoch where the latest mined block in.</li>
</ul>
<p><code>number|string</code></p>
<h3 id="example_13">Example<a class="headerlink" href="#example_13" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.defaultEpoch; // Default is &quot;latest_state&quot;
 &quot;latest_state&quot;
</code></pre>

<h2 id="confluxwebcfxcurrentprovider">ConfluxWeb.cfx.currentProvider<a class="headerlink" href="#confluxwebcfxcurrentprovider" title="Permanent link">&para;</a></h2>
<p>Will return the current provider, otherwise null</p>
<p><code>object|null</code></p>
<h3 id="example_14">Example<a class="headerlink" href="#example_14" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.currentProvider
 HttpProvider {
  host: 'http://testnet-jsonrpc.conflux-chain.org:12537',
  ...
 }
</code></pre>

<h2 id="confluxwebcfxsetprovider">ConfluxWeb.cfx.setProvider<a class="headerlink" href="#confluxwebcfxsetprovider" title="Permanent link">&para;</a></h2>
<p>Will change the provider for its module.</p>
<p><code>function setProvider(cfxProvider)</code></p>
<h3 id="parameters_4">Parameters<a class="headerlink" href="#parameters_4" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cfxProvider</td>
<td>object</td>
<td>true</td>
<td></td>
<td>A valid provider.</td>
</tr>
</tbody>
</table>
<h3 id="return_4">Return<a class="headerlink" href="#return_4" title="Permanent link">&para;</a></h3>
<p><code>boolean</code> </p>
<h3 id="example_15">Example<a class="headerlink" href="#example_15" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.currentProvider.host
 &quot;http://testnet-jsonrpc.conflux-chain.org:12537&quot;
 &gt; confluxWeb.cfx.currentProvider.host
 &quot;http://testnet-jsonrpc.conflux-chain.org:12537&quot;
 &gt; confluxWeb.cfx.setProvider('http://localhost:12537') // change module provider
 &gt; confluxWeb.currentProvider.host
 &quot;http://testnet-jsonrpc.conflux-chain.org:12537&quot;
 &gt; confluxWeb.cfx.currentProvider.host
 &quot;http://localhost:12537&quot;
</code></pre>

<h2 id="confluxwebcfxgetgasprice">ConfluxWeb.cfx.getGasPrice<a class="headerlink" href="#confluxwebcfxgetgasprice" title="Permanent link">&para;</a></h2>
<p>Returns the current gas price oracle.
The gas price is determined by the last few blocks median gas price.</p>
<p><code>async function getGasPrice()</code></p>
<h3 id="parameters_5">Parameters<a class="headerlink" href="#parameters_5" title="Permanent link">&para;</a></h3>
<p><code>void</code></p>
<h3 id="return_5">Return<a class="headerlink" href="#return_5" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;string&gt;</code> Number string of the current gas price in drip.</p>
<h3 id="example_16">Example<a class="headerlink" href="#example_16" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await confluxWeb.cfx.getGasPrice()
 &quot;0&quot;
</code></pre>

<h2 id="confluxwebcfxgetepochnumber">ConfluxWeb.cfx.getEpochNumber<a class="headerlink" href="#confluxwebcfxgetepochnumber" title="Permanent link">&para;</a></h2>
<p>Returns the current epoch number the client is on.</p>
<p><code>async function getEpochNumber()</code></p>
<h3 id="parameters_6">Parameters<a class="headerlink" href="#parameters_6" title="Permanent link">&para;</a></h3>
<p><code>void</code></p>
<h3 id="return_6">Return<a class="headerlink" href="#return_6" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;number&gt;</code> </p>
<h3 id="example_17">Example<a class="headerlink" href="#example_17" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await confluxWeb.cfx.getEpochNumber();
 990902
</code></pre>

<h2 id="confluxwebcfxgetbalance">ConfluxWeb.cfx.getBalance<a class="headerlink" href="#confluxwebcfxgetbalance" title="Permanent link">&para;</a></h2>
<p>Get the balance of an address at a given epoch.</p>
<p><code>async function getBalance(address,defaultEpoch)</code></p>
<h3 id="parameters_7">Parameters<a class="headerlink" href="#parameters_7" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>address</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The address to get the balance of.</td>
</tr>
<tr>
<td>defaultEpoch</td>
<td>number|string</td>
<td>false</td>
<td><code>confluxWeb.cfx.defaultEpoch</code></td>
<td>If you pass this parameter it will not use the default epoch.</td>
</tr>
</tbody>
</table>
<h3 id="return_7">Return<a class="headerlink" href="#return_7" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;string&gt;</code> The current balance for the given address in drip.</p>
<h3 id="example_18">Example<a class="headerlink" href="#example_18" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await confluxWeb.cfx.getBalance(&quot;0x407d73d8a49eeb85d32cf465507dd71d507100c1&quot;);
 &quot;685539999999937000&quot;

 &gt; await confluxWeb.cfx.getBalance(&quot;0x407d73d8a49eeb85d32cf465507dd71d507100c1&quot;, &quot;earliest&quot;);
 &quot;0&quot;
</code></pre>

<h2 id="confluxwebcfxgetcode">ConfluxWeb.cfx.getCode<a class="headerlink" href="#confluxwebcfxgetcode" title="Permanent link">&para;</a></h2>
<p>Get the code at a specific address.</p>
<p><code>async function getCode(address,defaultEpoch)</code></p>
<h3 id="parameters_8">Parameters<a class="headerlink" href="#parameters_8" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>address</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The address to get the code from.</td>
</tr>
<tr>
<td>defaultEpoch</td>
<td>number|string</td>
<td>false</td>
<td><code>confluxWeb.cfx.defaultEpoch</code></td>
<td>If you pass this parameter it will not use the default epoch.</td>
</tr>
</tbody>
</table>
<h3 id="return_8">Return<a class="headerlink" href="#return_8" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;string&gt;</code> The data at given address</p>
<h3 id="example_19">Example<a class="headerlink" href="#example_19" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await confluxWeb.cfx.getCode(&quot;0x079352147ce2de227af6fa963f603a35aed8e601&quot;);
 &quot;0x6080604052348015600f57600080fd5b506004361060325760003560e01c806306661abd146037578063812600df146053575b600080fd5b603d6092565b6040518082815260200191505060405180910390f35b607c60048036036020811015606757600080fd5b81019080803590602001909291905050506098565b6040518082815260200191505060405180910390f35b60005481565b60008160008082825401925050819055905091905056fea265627a7a723158203aa4346abf52089d9be8806b8bf35dff408bd9f68f668e528bc8e2e20d74b29064736f6c634300050b0032&quot;
</code></pre>

<h2 id="confluxwebcfxgetblock">ConfluxWeb.cfx.getBlock<a class="headerlink" href="#confluxwebcfxgetblock" title="Permanent link">&para;</a></h2>
<p>Returns a block matching the block number or block hash.</p>
<p><code>async function getBlock(blockHashOrEpochNumber,returnTransactionObjects)</code></p>
<h3 id="parameters_9">Parameters<a class="headerlink" href="#parameters_9" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>blockHashOrEpochNumber</td>
<td>string|number</td>
<td>true</td>
<td></td>
<td>The block hash or epoch.</td>
</tr>
<tr>
<td>returnTransactionObjects</td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If true, the returned block will contain all transactions as objects, if false it will only contains the transaction hashes.</td>
</tr>
</tbody>
</table>
<h3 id="return_9">Return<a class="headerlink" href="#return_9" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;object&gt;</code> The block object</p>
<ul>
<li>
<p><code>string</code> miner: The address of the beneficiary to whom the mining rewards were given.</p>
</li>
<li>
<p><code>string|null</code> hash: Hash of the block. <code>null</code> when its pending block.</p>
</li>
<li>
<p><code>string</code> parentHash: Hash of the parent block.</p>
</li>
<li>
<p><code>string[]</code> refereeHashes: Array of referee hashes.</p>
</li>
<li>
<p><code>number|null</code> epochNumber: The current block epoch number in the client's view. <code>null</code> when it's not in best block's past set.</p>
</li>
<li>
<p><code>boolean</code> stable: If the block stable or not</p>
</li>
<li>
<p><code>string</code> nonce: Hash of the generated proof-of-work. <code>null</code> when its pending block.</p>
</li>
<li>
<p><code>number</code> gasLimit: The maximum gas allowed in this block.</p>
</li>
<li>
<p><code>string</code> difficulty: Integer string of the difficulty for this block.</p>
</li>
<li>
<p><code>number</code> height: The block heights. <code>null</code> when its pending block.</p>
</li>
<li>
<p><code>number</code> size: Integer the size of this block in bytes.</p>
</li>
<li>
<p><code>number</code> blame: 0 if there's nothing to blame; k if the block is blaming on the state info of its k-th ancestor.</p>
</li>
<li>
<p><code>boolean</code> adaptive: If the block's weight adaptive or not.</p>
</li>
<li>
<p><code>number</code> timestamp: The unix timestamp for when the block was collated.</p>
</li>
<li>
<p><code>string</code> transactionsRoot: The hash of the transactions of the block.</p>
</li>
<li>
<p><code>string[]</code> transactions: Array of transaction objects, or 32 Bytes transaction hashes depending on the last given parameter.</p>
</li>
<li>
<p><code>string</code> deferredLogsBloomHash: The hash of the deferred block's log bloom filter</p>
</li>
<li>
<p><code>string</code> deferredReceiptsRoot: The hash of the receipts of the block after deferred execution.</p>
</li>
<li>
<p><code>string</code> deferredStateRoot: The root of the final state trie of the block after deferred execution.</p>
</li>
<li>
<p><code>object</code> deferredStateRootWithAux: Information of deferred state root</p>
</li>
</ul>
<h3 id="example_20">Example<a class="headerlink" href="#example_20" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await confluxWeb.cfx.getBlock(&quot;0xdf19947ee92cae1de92fd05d949c654afa4afb77ce42024533d5b47cb861575a&quot;);
 {
  &quot;miner&quot;: &quot;0x0000000000000000000000000000000000000015&quot;,
  &quot;hash&quot;: &quot;0xdf19947ee92cae1de92fd05d949c654afa4afb77ce42024533d5b47cb861575a&quot;,
  &quot;parentHash&quot;: &quot;0xa378c9e283c08eac0e2ac51a8c19e61717af812a157eb914d35b171ed20920b9&quot;,
  &quot;refereeHashes&quot;: [],
  &quot;epochNumber&quot;: 925836,
  &quot;stable&quot;: true,
  &quot;nonce&quot;: &quot;0xaaa4a571ad424ec&quot;,
  &quot;gasLimit&quot;: 3000000000,
  &quot;difficulty&quot;: &quot;21351313&quot;,
  &quot;height&quot;: 925836,
  &quot;size&quot;: 384,
  &quot;blame&quot;: 0,
  &quot;adaptive&quot;: false,
  &quot;timestamp&quot;: 1570608173,
  &quot;transactionsRoot&quot;: &quot;0xbe7a9e531d55ed950a217272afa035f57f6c512ca249bae19e214cf2b470562e&quot;
  &quot;transactions&quot;: [
    &quot;0x3910617de2a689f79bccd3d36866f4afd9ca93732c8e7be280a84190db701190&quot;
  ],
  &quot;deferredLogsBloomHash&quot;: &quot;0xd397b3b043d87fcd6fad1291ff0bfd16401c274896d8c63a923727f077b8e0b5&quot;,
  &quot;deferredReceiptsRoot&quot;: &quot;0x522717233b96e0a03d85f02f8127aa0e23ef2e0865c95bb7ac577ee3754875e4&quot;,
  &quot;deferredStateRoot&quot;: &quot;0xc4ec82320df3b5ce48e22d33cc82f665a274dc920796a3e206be44682b7812a2&quot;,
  &quot;deferredStateRootWithAux&quot;: {
    &quot;auxInfo&quot;: {
      &quot;intermediateDeltaEpochId&quot;: &quot;0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470&quot;,
      &quot;previousSnapshotRoot&quot;: &quot;0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470&quot;
    },
    &quot;stateRoot&quot;: {
      &quot;deltaRoot&quot;: &quot;0xbc71c52f0dae840fd8815de081a2774927077714a5fe7c342b0e5e81f7bcd38e&quot;,
      &quot;intermediateDeltaRoot&quot;: &quot;0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470&quot;,
      &quot;snapshotRoot&quot;: &quot;0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470&quot;
    }
  },
}
</code></pre>

<pre><code class="js"> &gt; await confluxWeb.cfx.getBlock(&quot;0xdf19947ee92cae1de92fd05d949c654afa4afb77ce42024533d5b47cb861575a&quot;, true);
 {
  &quot;adaptive&quot;: false,
  &quot;blame&quot;: 0,
  &quot;deferredLogsBloomHash&quot;: &quot;0xd397b3b043d87fcd6fad1291ff0bfd16401c274896d8c63a923727f077b8e0b5&quot;,
  &quot;deferredReceiptsRoot&quot;: &quot;0x522717233b96e0a03d85f02f8127aa0e23ef2e0865c95bb7ac577ee3754875e4&quot;,
  &quot;deferredStateRoot&quot;: &quot;0xc4ec82320df3b5ce48e22d33cc82f665a274dc920796a3e206be44682b7812a2&quot;,
  &quot;deferredStateRootWithAux&quot;: {
    &quot;auxInfo&quot;: {
      &quot;intermediateDeltaEpochId&quot;: &quot;0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470&quot;,
      &quot;previousSnapshotRoot&quot;: &quot;0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470&quot;
    },
    &quot;stateRoot&quot;: {
      &quot;deltaRoot&quot;: &quot;0xbc71c52f0dae840fd8815de081a2774927077714a5fe7c342b0e5e81f7bcd38e&quot;,
      &quot;intermediateDeltaRoot&quot;: &quot;0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470&quot;,
      &quot;snapshotRoot&quot;: &quot;0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470&quot;
    }
  },
  &quot;difficulty&quot;: &quot;21351313&quot;,
  &quot;epochNumber&quot;: 925836,
  &quot;gasLimit&quot;: 3000000000,
  &quot;hash&quot;: &quot;0xdf19947ee92cae1de92fd05d949c654afa4afb77ce42024533d5b47cb861575a&quot;,
  &quot;height&quot;: 925836,
  &quot;miner&quot;: &quot;0x0000000000000000000000000000000000000015&quot;,
  &quot;nonce&quot;: &quot;0xaaa4a571ad424ec&quot;,
  &quot;parentHash&quot;: &quot;0xa378c9e283c08eac0e2ac51a8c19e61717af812a157eb914d35b171ed20920b9&quot;,
  &quot;refereeHashes&quot;: [],
  &quot;size&quot;: 384,
  &quot;stable&quot;: true,
  &quot;timestamp&quot;: 1570608173,
  &quot;transactions&quot;: [
    {
      &quot;blockHash&quot;: &quot;0xdf19947ee92cae1de92fd05d949c654afa4afb77ce42024533d5b47cb861575a&quot;,
      &quot;contractCreated&quot;: null,
      &quot;data&quot;: &quot;0x&quot;,
      &quot;from&quot;: &quot;0xA70ddf9B9750c575Db453Eea6A041f4C8536785A&quot;,
      &quot;gas&quot;: 21000,
      &quot;gasPrice&quot;: &quot;819&quot;,
      &quot;hash&quot;: &quot;0x3910617de2a689f79bccd3d36866f4afd9ca93732c8e7be280a84190db701190&quot;,
      &quot;nonce&quot;: 921,
      &quot;r&quot;: &quot;0x985743d5d627e8f93e243bfd71e401f7bf5c7b098afeb910952df789312cc7b1&quot;,
      &quot;s&quot;: &quot;0xaaf07bc11d56516f90697fb0f1b8140ec9b252c66e8f3172799e2829d457775&quot;,
      &quot;status&quot;: &quot;0x0&quot;,
      &quot;to&quot;: &quot;0xbbd9E9bE525AB967e633BcDAEaC8bD5723ED4D6B&quot;,
      &quot;transactionIndex&quot;: 0,
      &quot;v&quot;: 1,
      &quot;value&quot;: &quot;1000000000000000000&quot;
    }
  ],
  &quot;transactionsRoot&quot;: &quot;0xbe7a9e531d55ed950a217272afa035f57f6c512ca249bae19e214cf2b470562e&quot;
}
</code></pre>

<h2 id="confluxwebcfxgettransaction">ConfluxWeb.cfx.getTransaction<a class="headerlink" href="#confluxwebcfxgettransaction" title="Permanent link">&para;</a></h2>
<p>Returns a transaction matching the given transaction hash.</p>
<p><code>async function getTransaction(transactionHash)</code></p>
<h3 id="parameters_10">Parameters<a class="headerlink" href="#parameters_10" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>transactionHash</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The transaction hash.</td>
</tr>
</tbody>
</table>
<h3 id="return_10">Return<a class="headerlink" href="#return_10" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;object&gt;</code> The transaction object</p>
<ul>
<li>
<p><code>string</code> blockHash: Hash of the block where this transaction was in and got executed. <code>null</code> when its pending.</p>
</li>
<li>
<p><code>number</code> transactionIndex: Integer of the transactions index position in the block.</p>
</li>
<li>
<p><code>string</code> hash: Hash of the transaction.</p>
</li>
<li>
<p><code>number</code> nonce: The number of transactions made by the sender prior to this one.</p>
</li>
<li>
<p><code>string</code> from: Address of the sender.</p>
</li>
<li>
<p><code>string</code> to: Address of the receiver. null when its a contract creation transaction.</p>
</li>
<li>
<p><code>string</code> value: Value transferred in Drip.</p>
</li>
<li>
<p><code>string</code> data: The data send along with the transaction.</p>
</li>
<li>
<p><code>number</code> gas: Gas provided by the sender.</p>
</li>
<li>
<p><code>number</code> gasPrice: Gas price provided by the sender in Drip.</p>
</li>
<li>
<p><code>string</code> status: '0x0' successful execution; '0x1' exception happened but nonce still increased; '0x2' exception happened and nonce didn't increase.</p>
</li>
<li>
<p><code>string|null</code> contractCreated: The contract address created, if the transaction was a contract creation, otherwise null.</p>
</li>
<li>
<p><code>string</code> r: ECDSA signature r</p>
</li>
<li>
<p><code>string</code> s: ECDSA signature s</p>
</li>
<li>
<p><code>string</code> v: ECDSA recovery id</p>
</li>
</ul>
<h3 id="example_21">Example<a class="headerlink" href="#example_21" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await confluxWeb.cfx.getTransaction(&quot;0xdf19947ee92cae1de92fd05d949c654afa4afb77ce42024533d5b47cb861575a&quot;);
 {
  &quot;blockHash&quot;: &quot;0xdf19947ee92cae1de92fd05d949c654afa4afb77ce42024533d5b47cb861575a&quot;,
  &quot;transactionIndex&quot;: 0,
  &quot;hash&quot;: &quot;0x3910617de2a689f79bccd3d36866f4afd9ca93732c8e7be280a84190db701190&quot;,
  &quot;nonce&quot;: 921,
  &quot;from&quot;: &quot;0xA70ddf9B9750c575Db453Eea6A041f4C8536785A&quot;,
  &quot;to&quot;: &quot;0xbbd9E9bE525AB967e633BcDAEaC8bD5723ED4D6B&quot;,
  &quot;value&quot;: &quot;1000000000000000000&quot;
  &quot;data&quot;: &quot;0x&quot;,
  &quot;gas&quot;: 21000,
  &quot;gasPrice&quot;: &quot;819&quot;,
  &quot;status&quot;: &quot;0x0&quot;,
  &quot;contractCreated&quot;: null,
  &quot;r&quot;: &quot;0x985743d5d627e8f93e243bfd71e401f7bf5c7b098afeb910952df789312cc7b1&quot;,
  &quot;s&quot;: &quot;0xaaf07bc11d56516f90697fb0f1b8140ec9b252c66e8f3172799e2829d457775&quot;,
  &quot;v&quot;: 1,
}
</code></pre>

<h2 id="confluxwebcfxgettransactioncount">ConfluxWeb.cfx.getTransactionCount<a class="headerlink" href="#confluxwebcfxgettransactioncount" title="Permanent link">&para;</a></h2>
<p>Get the numbers of transactions sent from this address.</p>
<p><code>async function getTransactionCount(address,defaultEpoch)</code></p>
<h3 id="parameters_11">Parameters<a class="headerlink" href="#parameters_11" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>address</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The address to get the numbers of transactions from.</td>
</tr>
<tr>
<td>defaultEpoch</td>
<td>number|string</td>
<td>false</td>
<td><code>confluxWeb.cfx.defaultEpoch</code></td>
<td>If you pass this parameter it will not use the default epoch.</td>
</tr>
</tbody>
</table>
<h3 id="return_11">Return<a class="headerlink" href="#return_11" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;number&gt;</code> The number of transactions sent from the given address.</p>
<h3 id="example_22">Example<a class="headerlink" href="#example_22" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await confluxWeb.cfx.getTransactionCount(&quot;0xa70ddf9b9750c575db453eea6a041f4c8536785a&quot;);
 974

 &gt; await confluxWeb.cfx.getTransactionCount(&quot;0xa70ddf9b9750c575db453eea6a041f4c8536785a&quot;, 'earliest');
 0
</code></pre>

<h2 id="confluxwebcfxsendsignedtransaction">ConfluxWeb.cfx.sendSignedTransaction<a class="headerlink" href="#confluxwebcfxsendsignedtransaction" title="Permanent link">&para;</a></h2>
<p>Sends an already signed transaction, generated for example using confluxWeb.cfx.accounts.signTransaction</p>
<p><code>async function sendSignedTransaction(signedTransactionData)</code></p>
<h3 id="parameters_12">Parameters<a class="headerlink" href="#parameters_12" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>signedTransactionData</td>
<td>string</td>
<td>true</td>
<td></td>
<td>Signed transaction data in HEX format</td>
</tr>
</tbody>
</table>
<h3 id="return_12">Return<a class="headerlink" href="#return_12" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;string&gt;</code> Transaction hash</p>
<h3 id="example_23">Example<a class="headerlink" href="#example_23" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; const ConfluxTx = require('confluxjs-transaction');
 &gt; const tx = new ConfluxTx({
    nonce: '0x03',
    gasPrice: '0x01',
    gasLimit: '0x5208', // 21000
    to: '0x1ead8630345121d19ee3604128e5dc54b36e8ea6', // ADDRESS_TO
    value: '0x01',
  });
 &gt; tx.sign(Buffer.from('a816a06117e572ca7ae2f786a046d2bc478051d0717bf5cc4f5397923258d393', 'hex')); // KEY_FROM
 &gt; await confluxWeb.cfx.sendSignedTransaction('0x' + tx.serialize().toString('hex'));
 0x200b930e95b3c8c54978499c6407ef71fc96a83eced88640fae59b75e1d16ef4
</code></pre>

<h2 id="confluxwebcfxsigntransaction">ConfluxWeb.cfx.signTransaction<a class="headerlink" href="#confluxwebcfxsigntransaction" title="Permanent link">&para;</a></h2>
<p>Signs a transaction. This account needs to be unlocked.</p>
<p><code>async function signTransaction(rawTx)</code></p>
<h3 id="parameters_13">Parameters<a class="headerlink" href="#parameters_13" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>rawTx</td>
<td>object</td>
<td>true</td>
<td></td>
<td></td>
</tr>
<tr>
<td>rawTx.from</td>
<td>number</td>
<td>true</td>
<td></td>
<td>An address or index of a local wallet in confluxWeb.cfx.accounts.wallet.</td>
</tr>
<tr>
<td>rawTx.to</td>
<td>string</td>
<td>false</td>
<td></td>
<td>The destination address of the message, left undefined for a contract-creation transaction.</td>
</tr>
<tr>
<td>rawTx.value</td>
<td>number|string|BN|BigNumber</td>
<td>false</td>
<td></td>
<td>The value transferred for the transaction in drip, also the endowment if itâ€™s a contract-creation transaction.</td>
</tr>
<tr>
<td>rawTx.gas</td>
<td>number</td>
<td>false</td>
<td><code>To-Be-Determined</code></td>
<td>The amount of gas to use for the transaction (unused gas is refunded).</td>
</tr>
<tr>
<td>rawTx.gasPrice</td>
<td>number|string|BN|BigNumber</td>
<td>false</td>
<td><code>confluxWeb.cfx.gasPrice</code></td>
<td>The price of gas for this transaction in drip.</td>
</tr>
<tr>
<td>rawTx.data</td>
<td>string</td>
<td>false</td>
<td></td>
<td>Either a ABI byte string containing the data of the function call on a contract, or in the case of a contract-creation transaction the initialisation code.</td>
</tr>
<tr>
<td>rawTx.nonce</td>
<td>number</td>
<td>false</td>
<td></td>
<td>Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</td>
</tr>
</tbody>
</table>
<h3 id="return_13">Return<a class="headerlink" href="#return_13" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;object&gt;</code> The RLP encoded transaction. The raw property can be used to send the transaction using confluxWeb.cfx.sendSignedTransaction.</p>
<ul>
<li>
<p><code>string</code> rawTransaction: Raw transaction string</p>
</li>
<li>
<p><code>string</code> messageHash: Hash of transaction for calculating signature</p>
</li>
<li>
<p><code>string</code> r: ECDSA signature r</p>
</li>
<li>
<p><code>string</code> s: ECDSA signature s</p>
</li>
<li>
<p><code>string</code> v: ECDSA recovery id</p>
</li>
</ul>
<h3 id="example_24">Example<a class="headerlink" href="#example_24" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.wallet.add('a816a06117e572ca7ae2f786a046d2bc478051d0717bf5cc4f5397923258d393'); // KEY_FROM
 &gt; await confluxWeb.cfx.signTransaction({
    from: 0, // index
    nonce: 0, // make nonce appropriate
    gasPrice: 10,
    gas: 21000,
    value: new BN('300000000000000000'), // 300000000000000000 drip === 0.3 cfx token
    to: '0x1ead8630345121d19ee3604128e5dc54b36e8ea6', // ADDRESS_TO
    data: '',
  });

 {
  &quot;messageHash&quot;: &quot;53aec3cdccb8ab438303ece4559fc4464a118416828d8c7c0427f5debcd8feae&quot;,
  &quot;r&quot;: &quot;0x1feaa7a3d6ae22c013b0987e8fa8e39ff1df1e6080c95d7d5e085e2cd9b02ff2&quot;,
  &quot;s&quot;: &quot;0x0451df58547f0e0ad36d06058cd0c8cfa4eb201b4d09255f56ba0d750e520a67&quot;,
  &quot;v&quot;: &quot;0x01&quot;,
  &quot;rawTransaction&quot;: &quot;0xf867800a825208941ead8630345121d19ee3604128e5dc54b36e8ea6880429d069189e00008001a01feaa7a3d6ae22c013b0987e8fa8e39ff1df1e6080c95d7d5e085e2cd9b02ff2a00451df58547f0e0ad36d06058cd0c8cfa4eb201b4d09255f56ba0d750e520a67&quot;
 }
</code></pre>

<h2 id="confluxwebcfxcall">ConfluxWeb.cfx.call<a class="headerlink" href="#confluxwebcfxcall" title="Permanent link">&para;</a></h2>
<p>Executes a message call transaction, which is directly executed in the VM of the node, but never mined into the blockchain.</p>
<p><code>async function call(callObject,defaultEpoch)</code></p>
<h3 id="parameters_14">Parameters<a class="headerlink" href="#parameters_14" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callObject</td>
<td>object</td>
<td>true</td>
<td></td>
<td>A transaction object, with the difference that for calls the from property is optional as well.</td>
</tr>
<tr>
<td>defaultEpoch</td>
<td>string|number</td>
<td>false</td>
<td>conflux.cfx.defaultEpoch</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="return_14">Return<a class="headerlink" href="#return_14" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;string&gt;</code> The returned data of the call, e.g. A smart contract functions return value.</p>
<h3 id="example_25">Example<a class="headerlink" href="#example_25" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await confluxWeb.cfx.call({
    to: &quot;0x11f4d0a3c12e86b4b5f39b213f7e19d048276dae&quot;, // contract address
    data: &quot;0xc6888fa10000000000000000000000000000000000000000000000000000000000000003&quot;
  })
 0x000000000000000000000000000000000000000000000000000000000000000a
</code></pre>

<h2 id="confluxwebcfxestimategas">ConfluxWeb.cfx.estimateGas<a class="headerlink" href="#confluxwebcfxestimategas" title="Permanent link">&para;</a></h2>
<p>Executes a message call or transaction and returns the amount of the gas used.</p>
<p><code>async function estimateGas(callObject)</code></p>
<h3 id="parameters_15">Parameters<a class="headerlink" href="#parameters_15" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callObject</td>
<td>object</td>
<td>true</td>
<td></td>
<td>A transaction object, with the difference that for calls the from property is optional as well.</td>
</tr>
</tbody>
</table>
<h3 id="return_15">Return<a class="headerlink" href="#return_15" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;number&gt;</code> - the used gas for the simulated call/transaction.</p>
<h3 id="example_26">Example<a class="headerlink" href="#example_26" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await confluxWeb.cfx.estimateGas({
    to: &quot;0x11f4d0A3c12e86B4b5F39B213F7E19D048276DAe&quot;,
    data: &quot;0xc6888fa10000000000000000000000000000000000000000000000000000000000000003&quot;
  })
 0x0000000000000000000000000000000000000000000000000000000000000015
</code></pre>

<h2 id="confluxwebcfxgettransactionreceipt">ConfluxWeb.cfx.getTransactionReceipt<a class="headerlink" href="#confluxwebcfxgettransactionreceipt" title="Permanent link">&para;</a></h2>
<p>Returns the receipt of a transaction by transaction hash.</p>
<blockquote>
<p>NOTE: The receipt is not available for pending transactions and returns null.</p>
</blockquote>
<p><code>async function getTransactionReceipt(txHash)</code></p>
<h3 id="parameters_16">Parameters<a class="headerlink" href="#parameters_16" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>txHash</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The transaction hash.</td>
</tr>
</tbody>
</table>
<h3 id="return_16">Return<a class="headerlink" href="#return_16" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;object&gt;</code> A transaction receipt object, or null when no receipt was found.</p>
<ul>
<li>
<p><code>boolean</code> status: <code>true</code> if the transaction was successful; <code>false</code>, if the EVM reverted the transaction.</p>
</li>
<li>
<p><code>number</code> outcomeStatus: 1 status <code>true</code>; 0 status <code>false</code>.</p>
</li>
<li>
<p><code>string</code> stateRoot: The state root of transaction execution.</p>
</li>
<li>
<p><code>number</code> epochNumber: Epoch number where this transaction was in.</p>
</li>
<li>
<p><code>string</code> blockHash: Hash of the block where this transaction was in.</p>
</li>
<li>
<p><code>string</code> transactionHash: Hash of the transaction.</p>
</li>
<li>
<p><code>number</code> index: Integer of the transactions index position in the block.</p>
</li>
<li>
<p><code>string</code> from: Address of the sender.</p>
</li>
<li>
<p><code>string</code> to: Address of the receiver. null when its a contract creation transaction.</p>
</li>
<li>
<p><code>string|null</code> contractCreated: The contract address created, if the transaction was a contract creation, otherwise null.</p>
</li>
<li>
<p><code>number</code> gasUsed: The amount of gas used by this specific transaction alone.</p>
</li>
<li>
<p><code>[object]</code> logs: Array of log objects, which this transaction generated.</p>
</li>
<li>
<p><code>[string]</code> logs[].address: The address of the contract executing at the point of the <code>LOG</code> operation.</p>
</li>
<li>
<p><code>[string]</code> logs[].topics: The topics associated with the <code>LOG</code> operation.</p>
</li>
<li>
<p><code>[string]</code> logs[].data: The data associated with the <code>LOG</code> operation.</p>
</li>
<li>
<p><code>string</code> logsBloom:</p>
</li>
</ul>
<h3 id="example_27">Example<a class="headerlink" href="#example_27" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await confluxWeb.cfx.getTransactionReceipt('0x689258ba9fe2c25bcdc43ebb5c9018d1b56d25b1c87de1b371a19f5548c16dc1');
 {
  status: true,
  outcomeStatus: 0,
  stateRoot: '0x75df853d267b40a98f6fe1103a510822bc1582894e8a9e95eb9ff0697545e4d2',
  epochNumber: 1017673,
  blockHash: '0xdefb3add0256b12c80f6e4fddde81da9c93ec88861cbee14051379f79624f911',
  transactionHash: '0x689258ba9fe2c25bcdc43ebb5c9018d1b56d25b1c87de1b371a19f5548c16dc1',
  index: 0,
  from: '0xbbd9e9be525ab967e633bcdaeac8bd5723ed4d6b',
  to: '0x1ead8630345121d19ee3604128e5dc54b36e8ea6',
  contractCreated: null,
  gasUsed: 21000,
  logs: [],
  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
 }
</code></pre>

<h2 id="confluxwebcfxgetpastlogs">ConfluxWeb.cfx.getPastLogs<a class="headerlink" href="#confluxwebcfxgetpastlogs" title="Permanent link">&para;</a></h2>
<p>Gets past logs, matching the given options.</p>
<p><code>async function getPastLogs(options)</code></p>
<h3 id="parameters_17">Parameters<a class="headerlink" href="#parameters_17" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td>object</td>
<td>true</td>
<td></td>
<td></td>
</tr>
<tr>
<td>options.fromEpoch</td>
<td>string</td>
<td>false</td>
<td></td>
<td>The number of the earliest block</td>
</tr>
<tr>
<td>options.toEpoch</td>
<td>string</td>
<td>false</td>
<td></td>
<td>The number of the latest block</td>
</tr>
<tr>
<td>options.address</td>
<td>string|Array.<string></td>
<td>true</td>
<td></td>
<td>An address or a list of addresses to only get logs from particular account(s).</td>
</tr>
<tr>
<td>options.topics</td>
<td>array</td>
<td>true</td>
<td></td>
<td>An array of values which must each appear in the log entries. The order is important, if you want to leave topics out use null, e.g. [null, '0x12...']. You can also pass an array for each topic with options for that topic e.g. [null, ['option1', 'option2']]</td>
</tr>
</tbody>
</table>
<h3 id="return_17">Return<a class="headerlink" href="#return_17" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;Array.&lt;object&gt;&gt;</code> Array of log objects.</p>
<h3 id="example_28">Example<a class="headerlink" href="#example_28" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await confluxWeb.cfx.getPastLogs({
    fromEpoch: '0x0',
    toEpoch: 'latest_mined',
    address: '0x169a10a431130B2F4853294A4a966803668af385'
  });

 [
   {
      &quot;address&quot;: &quot;0x169a10a431130B2F4853294A4a966803668af385&quot;,
      &quot;blockHash&quot;: &quot;0x9f18cbbbc432d678b94ee6446e9305abf8f02deb0b03877cc0c71c0a71c08faf&quot;,
      &quot;epochNumber&quot;: &quot;0x0&quot;,
      &quot;data&quot;: &quot;0x&quot;,
      &quot;logIndex&quot;: 0,
      &quot;removed&quot;: false,
      &quot;topics&quot;: [
        &quot;0x44d6d25963f097ad14f29f06854a01f575648a1ef82f30e562ccd3889717e339&quot;,
        &quot;0x000000000000000000000000c24a31039a4dfc9ee9039bd9241a0c7848b92ae1&quot;
      ],
      &quot;transactionHash&quot;: &quot;0xb777fc8ee9c5b5f6eb2b1c7d73106f07eb1692b9db08d9f65affafb82641559f&quot;,
      &quot;transactionIndex&quot;: 0,
      &quot;transactionLogIndex&quot;: &quot;0x0&quot;,
      &quot;type&quot;: &quot;mined&quot;,
      &quot;id&quot;: &quot;log_0x5157483fef4019b6a231963496322bbf123b2559f73eef47f60dd5d1b1364fe4&quot;
    },
   ...
 ]
</code></pre>

<hr />
<h1 id="confluxwebcfxaccount">ConfluxWeb.cfx.account<a class="headerlink" href="#confluxwebcfxaccount" title="Permanent link">&para;</a></h1>
<h2 id="confluxwebcfxaccountcreate">ConfluxWeb.cfx.account.create<a class="headerlink" href="#confluxwebcfxaccountcreate" title="Permanent link">&para;</a></h2>
<p>Generates an account object with private key and public key.</p>
<blockquote>
<p>NOTE: compare to eth latest, we donâ€™t have sign methods in the return account object</p>
</blockquote>
<p><code>function create(entropy)</code></p>
<h3 id="parameters_18">Parameters<a class="headerlink" href="#parameters_18" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>entropy</td>
<td>string</td>
<td>false</td>
<td></td>
<td>A random string to increase entropy. If given it should be at least 32 characters. If none is given a random string will be generated using randomHex.</td>
</tr>
</tbody>
</table>
<h3 id="return_18">Return<a class="headerlink" href="#return_18" title="Permanent link">&para;</a></h3>
<p><code>object</code> The account object.</p>
<h3 id="example_29">Example<a class="headerlink" href="#example_29" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.create();
 Account {
  address: '0xbaE14daA250D6BCE69E695217AE8B3ce1dfF7AAe',
  privateKey:
   '0xed66cd654e2d714445dd159801f7e8144d227715c1eb33865d44c056d8e23399',
  ...
 }
</code></pre>

<h2 id="confluxwebcfxaccountprivatekeytoaccount">ConfluxWeb.cfx.account.privateKeyToAccount<a class="headerlink" href="#confluxwebcfxaccountprivatekeytoaccount" title="Permanent link">&para;</a></h2>
<p>Creates an account object from a private key.</p>
<blockquote>
<p>NOTE: compare to eth latest, we donâ€™t have sign methods in the return account object</p>
</blockquote>
<p><code>function privateKeyToAccount(privateKey)</code></p>
<h3 id="parameters_19">Parameters<a class="headerlink" href="#parameters_19" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>privateKey</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The private key to convert.</td>
</tr>
</tbody>
</table>
<h3 id="return_19">Return<a class="headerlink" href="#return_19" title="Permanent link">&para;</a></h3>
<p><code>object</code> The account object.</p>
<h3 id="example_30">Example<a class="headerlink" href="#example_30" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.privateKeyToAccount('0xed66cd654e2d714445dd159801f7e8144d227715c1eb33865d44c056d8e23399');
 Account {
  address: '0xbaE14daA250D6BCE69E695217AE8B3ce1dfF7AAe',
  privateKey:
   '0xed66cd654e2d714445dd159801f7e8144d227715c1eb33865d44c056d8e23399',
  ...
 }
</code></pre>

<h2 id="confluxwebcfxaccountrecovertransaction">ConfluxWeb.cfx.account.recoverTransaction<a class="headerlink" href="#confluxwebcfxaccountrecovertransaction" title="Permanent link">&para;</a></h2>
<p>Recovers the Conflux address which was used to sign the given RLP encoded transaction.</p>
<p><code>function recoverTransaction(rawTransaction)</code></p>
<h3 id="parameters_20">Parameters<a class="headerlink" href="#parameters_20" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>rawTransaction</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The RLP encoded transaction.</td>
</tr>
</tbody>
</table>
<h3 id="return_20">Return<a class="headerlink" href="#return_20" title="Permanent link">&para;</a></h3>
<p><code>string</code> The Conflux address used to sign this transaction.</p>
<h3 id="example_31">Example<a class="headerlink" href="#example_31" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.recoverTransaction('0xf867800a825208941ead8630345121d19ee3604128e5dc54b36e8ea6880429d069189e00008001a01feaa7a3d6ae22c013b0987e8fa8e39ff1df1e6080c95d7d5e085e2cd9b02ff2a00451df58547f0e0ad36d06058cd0c8cfa4eb201b4d09255f56ba0d750e520a67');
 &quot;0xbbd9E9bE525AB967e633BcDAEaC8bD5723ED4D6B&quot;
</code></pre>

<h2 id="confluxwebcfxaccounthashmessage">ConfluxWeb.cfx.account.hashMessage<a class="headerlink" href="#confluxwebcfxaccounthashmessage" title="Permanent link">&para;</a></h2>
<p><code>function hashMessage(message)</code></p>
<h3 id="parameters_21">Parameters<a class="headerlink" href="#parameters_21" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td>string</td>
<td>true</td>
<td></td>
<td>A message to hash, if its HEX it will be UTF8 decoded before.</td>
</tr>
</tbody>
</table>
<h3 id="return_21">Return<a class="headerlink" href="#return_21" title="Permanent link">&para;</a></h3>
<p><code>string</code> The hashed message</p>
<h3 id="example_32">Example<a class="headerlink" href="#example_32" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.hashMessage(&quot;Hello World&quot;);
 &quot;0xa1de988600a42c4b4ab089b619297c17d53cffae5d5120d82d8a92d0bb3b78f2&quot;

 &gt; confluxWeb.cfx.accounts.hashMessage(confluxWeb.cfx.utf8ToHex(&quot;Hello World&quot;)); // the below results in the same hash
 &quot;0xa1de988600a42c4b4ab089b619297c17d53cffae5d5120d82d8a92d0bb3b78f2&quot;
</code></pre>

<h2 id="confluxwebcfxaccountsign">ConfluxWeb.cfx.account.sign<a class="headerlink" href="#confluxwebcfxaccountsign" title="Permanent link">&para;</a></h2>
<p>Signs arbitrary data. This data is before UTF-8 HEX decoded and enveloped as follows:
<code>"\x19Ethereum Signed Message:\n" + message.length + message</code></p>
<p><code>function sign(data,privateKey)</code></p>
<h3 id="parameters_22">Parameters<a class="headerlink" href="#parameters_22" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The data to sign.</td>
</tr>
<tr>
<td>privateKey</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The private key to sign with.</td>
</tr>
</tbody>
</table>
<h3 id="return_22">Return<a class="headerlink" href="#return_22" title="Permanent link">&para;</a></h3>
<p><code>object</code> </p>
<h3 id="example_33">Example<a class="headerlink" href="#example_33" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.sign('Hello World', 'a816a06117e572ca7ae2f786a046d2bc478051d0717bf5cc4f5397923258d393');
 {
  &quot;message&quot;: &quot;Hello World&quot;,
  &quot;messageHash&quot;: &quot;0xa1de988600a42c4b4ab089b619297c17d53cffae5d5120d82d8a92d0bb3b78f2&quot;,
  &quot;v&quot;: &quot;0x1b&quot;,
  &quot;r&quot;: &quot;0x14e05a1ff41165dc420414e96acd7710a49ff05eecbd2caf520ac8d2e37426b0&quot;,
  &quot;s&quot;: &quot;0x4236443a89cd5a5d14559bc5c115988b704d40dea7e39ed087ae80cd7822f99c&quot;,
  &quot;signature&quot;: &quot;0x14e05a1ff41165dc420414e96acd7710a49ff05eecbd2caf520ac8d2e37426b04236443a89cd5a5d14559bc5c115988b704d40dea7e39ed087ae80cd7822f99c1b&quot;
 }
</code></pre>

<h2 id="confluxwebcfxaccountrecover">ConfluxWeb.cfx.account.recover<a class="headerlink" href="#confluxwebcfxaccountrecover" title="Permanent link">&para;</a></h2>
<p>Recovers the Conflux address which was used to sign the given data.</p>
<blockquote>
<p>confluxWeb.cfx.accounts.recover(message, signature [, preFixed]);</p>
<p>confluxWeb.cfx.accounts.recover(message, v, r, s [, preFixed]);</p>
<p>confluxWeb.cfx.accounts.recover(signatureObject);</p>
</blockquote>
<p><code>function recover(message,signature,r,s,v,preFixed,signatureObject)</code></p>
<h3 id="parameters_23">Parameters<a class="headerlink" href="#parameters_23" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td>string</td>
<td>true</td>
<td></td>
<td></td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The raw RLP encoded signature, OR parameter 2-4 as v, r, s values.</td>
</tr>
<tr>
<td>r</td>
<td>string</td>
<td>true</td>
<td></td>
<td>First 32 bytes of the signature</td>
</tr>
<tr>
<td>s</td>
<td>string</td>
<td>true</td>
<td></td>
<td>Next 32 bytes of the signature</td>
</tr>
<tr>
<td>v</td>
<td>string</td>
<td>true</td>
<td></td>
<td>Recovery value</td>
</tr>
<tr>
<td>preFixed</td>
<td>boolean</td>
<td>false</td>
<td>false</td>
<td>If the last parameter is true, the given message will NOT automatically be prefixed with "\x19Ethereum Signed Message:\n" + message.length + message, and assumed to be already prefixed.</td>
</tr>
<tr>
<td>signatureObject</td>
<td>object</td>
<td>true</td>
<td></td>
<td></td>
</tr>
<tr>
<td>signatureObject.messageHash</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The hash of the given message already prefixed with "\x19Ethereum Signed Message:\n" + message.length + message.</td>
</tr>
<tr>
<td>signatureObject.r</td>
<td>string</td>
<td>true</td>
<td></td>
<td>same as <code>r</code></td>
</tr>
<tr>
<td>signatureObject.s</td>
<td>string</td>
<td>true</td>
<td></td>
<td>same as <code>s</code></td>
</tr>
<tr>
<td>signatureObject.v</td>
<td>string</td>
<td>true</td>
<td></td>
<td>same as <code>v</code></td>
</tr>
</tbody>
</table>
<h3 id="return_23">Return<a class="headerlink" href="#return_23" title="Permanent link">&para;</a></h3>
<p><code>string</code> The Conflux address used to sign this data.</p>
<h3 id="example_34">Example<a class="headerlink" href="#example_34" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.recover({
    messageHash: '0x1da44b586eb0729ff70a73c326926f6ed5a25f5b056e7f47fbc6e58d86871655',
    v: '0x1',
    r: '0xb91467e570a6466aa9e9876cbcd013baba02900b8979d43fe208a4a4f339f5fd',
    s: '0x6007e74cd82e037b800186422fc2da167c747ef045e5d18a5f5d4300f8e1a029'
 })
 &quot;0x2c7536E3605D9C16a7a3D7b1898e529396a65c23&quot;

 &gt; confluxWeb.cfx.accounts.recover('Some data', '0xb91467e570a6466aa9e9876cbcd013baba02900b8979d43fe208a4a4f339f5fd6007e74cd82e037b800186422fc2da167c747ef045e5d18a5f5d4300f8e1a02901'); // message, signature
 &quot;0x2c7536E3605D9C16a7a3D7b1898e529396a65c23&quot;

 &gt; confluxWeb.cfx.accounts.recover('Some data', '0x01', '0xb91467e570a6466aa9e9876cbcd013baba02900b8979d43fe208a4a4f339f5fd', '0x6007e74cd82e037b800186422fc2da167c747ef045e5d18a5f5d4300f8e1a029'); // message, v, r, s
 &quot;0x2c7536E3605D9C16a7a3D7b1898e529396a65c23&quot;
</code></pre>

<hr />
<h1 id="confluxwebcfxaccountwallet">ConfluxWeb.cfx.account.wallet<a class="headerlink" href="#confluxwebcfxaccountwallet" title="Permanent link">&para;</a></h1>
<h2 id="confluxwebcfxaccountwalletcreate">ConfluxWeb.cfx.account.wallet.create<a class="headerlink" href="#confluxwebcfxaccountwalletcreate" title="Permanent link">&para;</a></h2>
<p>Generates one or more accounts in the wallet. If wallets already exist they will not be overridden.</p>
<p><code>function create(numberOfAccounts,entropy)</code></p>
<h3 id="parameters_24">Parameters<a class="headerlink" href="#parameters_24" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>numberOfAccounts</td>
<td>number</td>
<td>true</td>
<td></td>
<td>Number of accounts to create. Leave empty to create an empty wallet.</td>
</tr>
<tr>
<td>entropy</td>
<td>string</td>
<td>false</td>
<td></td>
<td>A string with random characters as additional entropy when generating accounts. If given it should be at least 32 characters.</td>
</tr>
</tbody>
</table>
<h3 id="return_24">Return<a class="headerlink" href="#return_24" title="Permanent link">&para;</a></h3>
<p><code>object</code> The wallet object</p>
<h3 id="example_35">Example<a class="headerlink" href="#example_35" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.wallet.create(2);
 Wallet {
   ...
   accounts: {
     '0':
      Account {
        address: '0x52B2a035bbC4263D46a327376195e86dbaAF0b42',
        privateKey:
         '0x9887b79bd08ac7ee5897a24c50ee366450edd706cd8cec637cbb91234638d6bb',
        accounts: [Accounts] },
     '1':
      Account {
        address: '0x52B2a035bbC4263D46a327376195e86dbaAF0b42',
        privateKey:
         '0x9887b79bd08ac7ee5897a24c50ee366450edd706cd8cec637cbb91234638d6bb',
        accounts: [Accounts] },
   },
   ...
 }
</code></pre>

<h2 id="confluxwebcfxaccountwalletadd">ConfluxWeb.cfx.account.wallet.add<a class="headerlink" href="#confluxwebcfxaccountwalletadd" title="Permanent link">&para;</a></h2>
<p>Adds an account using a private key or account object to the wallet.</p>
<p><code>function add(account)</code></p>
<h3 id="parameters_25">Parameters<a class="headerlink" href="#parameters_25" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>account</td>
<td>string|object</td>
<td>true</td>
<td></td>
<td>A private key or account object created with confluxWeb.cfx.accounts.create().</td>
</tr>
</tbody>
</table>
<h3 id="return_25">Return<a class="headerlink" href="#return_25" title="Permanent link">&para;</a></h3>
<p><code>object</code> The added account</p>
<h3 id="example_36">Example<a class="headerlink" href="#example_36" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.wallet.add('a816a06117e572ca7ae2f786a046d2bc478051d0717bf5cc4f5397923258d393');
 Account {
  address: '0x4060E99f892E052dF9F59126D3F1eF2240A5df97',
  privateKey:
   'a816a06117e572ca7ae2f786a046d2bc478051d0717bf5cc4f5397923258d393',
  ...
 }
</code></pre>

<h2 id="confluxwebcfxaccountwalletremove">ConfluxWeb.cfx.account.wallet.remove<a class="headerlink" href="#confluxwebcfxaccountwalletremove" title="Permanent link">&para;</a></h2>
<p>Removes an account from the wallet.</p>
<p><code>function remove(address)</code></p>
<h3 id="parameters_26">Parameters<a class="headerlink" href="#parameters_26" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>address</td>
<td>string|number</td>
<td>true</td>
<td></td>
<td>The account address, or index in the wallet.</td>
</tr>
</tbody>
</table>
<h3 id="return_26">Return<a class="headerlink" href="#return_26" title="Permanent link">&para;</a></h3>
<p><code>boolean</code> true if the wallet was removed. false if it couldnâ€™t be found.</p>
<h3 id="example_37">Example<a class="headerlink" href="#example_37" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.wallet.remove('0xbbd9e9be525ab967e633bcdaeac8bd5723ed4d6b');
 true

 &gt; confluxWeb.cfx.accounts.wallet.remove(0);
 true
</code></pre>

<h2 id="confluxwebcfxaccountwalletclear">ConfluxWeb.cfx.account.wallet.clear<a class="headerlink" href="#confluxwebcfxaccountwalletclear" title="Permanent link">&para;</a></h2>
<p>Securely empties the wallet and removes all its accounts.</p>
<p><code>function clear()</code></p>
<h3 id="parameters_27">Parameters<a class="headerlink" href="#parameters_27" title="Permanent link">&para;</a></h3>
<p><code>void</code></p>
<h3 id="return_27">Return<a class="headerlink" href="#return_27" title="Permanent link">&para;</a></h3>
<p><code>Object</code> The wallet object.</p>
<h3 id="example_38">Example<a class="headerlink" href="#example_38" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.cfx.accounts.wallet.clear();
 Wallet {
   accounts: {},
   accountsIndex: 0
   ...
 }
</code></pre>

<hr />
<h1 id="confluxwebcfxcontractmethods_1">ConfluxWeb.cfx.Contract.methods<a class="headerlink" href="#confluxwebcfxcontractmethods_1" title="Permanent link">&para;</a></h1>
<h2 id="confluxwebcfxcontractmethodsencodeabi">ConfluxWeb.cfx.Contract.methods.encodeABI<a class="headerlink" href="#confluxwebcfxcontractmethodsencodeabi" title="Permanent link">&para;</a></h2>
<p>Encodes the ABI for this method.
This can be used to send a transaction, call a method,
or pass it into another smart contracts method as arguments.</p>
<blockquote>
<p>NOTE: contract instance create code see Contract.constructor</p>
</blockquote>
<p><code>function encodeABI()</code></p>
<h3 id="parameters_28">Parameters<a class="headerlink" href="#parameters_28" title="Permanent link">&para;</a></h3>
<p><code>void</code></p>
<h3 id="return_28">Return<a class="headerlink" href="#return_28" title="Permanent link">&para;</a></h3>
<p><code>string</code> The encoded ABI byte code to send via a transaction or call.</p>
<h3 id="example_39">Example<a class="headerlink" href="#example_39" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await contract.methods.inc(1).encodeABI();
 &quot;0x812600df0000000000000000000000000000000000000000000000000000000000000001&quot;

 &gt; await contract.methods.count().encodeABI();
 &quot;0x06661abd&quot;
</code></pre>

<h2 id="confluxwebcfxcontractmethodsestimategas">ConfluxWeb.cfx.Contract.methods.estimateGas<a class="headerlink" href="#confluxwebcfxcontractmethodsestimategas" title="Permanent link">&para;</a></h2>
<p>Will call estimate the gas a method execution will take when executed in the EVM without sending any transaction. The estimation can differ from the actual gas used when later sending a transaction, as the state of the smart contract can be different at that time.</p>
<blockquote>
<p>NOTE: contract instance create code see Contract.constructor</p>
</blockquote>
<p><code>async function estimateGas()</code></p>
<h3 id="parameters_29">Parameters<a class="headerlink" href="#parameters_29" title="Permanent link">&para;</a></h3>
<p><code>void</code></p>
<h3 id="return_29">Return<a class="headerlink" href="#return_29" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;number&gt;</code> </p>
<h3 id="example_40">Example<a class="headerlink" href="#example_40" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await contract.methods.inc(1).estimateGas();
 26928

 &gt; await contract.methods.count().estimateGas();
 21655
</code></pre>

<h2 id="confluxwebcfxcontractmethodscall">ConfluxWeb.cfx.Contract.methods.call<a class="headerlink" href="#confluxwebcfxcontractmethodscall" title="Permanent link">&para;</a></h2>
<p>Will call a â€œconstantâ€ method and execute its smart contract method in the EVM without sending any transaction.
Note calling can not alter the smart contract state.</p>
<blockquote>
<p>NOTE: contract instance create code see Contract.constructor</p>
</blockquote>
<p><code>async function call()</code></p>
<h3 id="parameters_30">Parameters<a class="headerlink" href="#parameters_30" title="Permanent link">&para;</a></h3>
<p><code>void</code></p>
<h3 id="return_30">Return<a class="headerlink" href="#return_30" title="Permanent link">&para;</a></h3>
<p><code>Promise</code> contract method return value</p>
<h3 id="example_41">Example<a class="headerlink" href="#example_41" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await contract.methods.inc(1).call();
 BigNumber { _hex: '0xff' }

 &gt; await contract.methods.count().call();
 BigNumber { _hex: '0xfe' }
</code></pre>

<h2 id="confluxwebcfxcontractmethodssend">ConfluxWeb.cfx.Contract.methods.send<a class="headerlink" href="#confluxwebcfxcontractmethodssend" title="Permanent link">&para;</a></h2>
<p>Will send a transaction to the smart contract and execute its method.
Note this can alter the smart contract state.</p>
<blockquote>
<p>NOTE: contract instance create code see Contract.constructor</p>
</blockquote>
<p><code>async function send(options)</code></p>
<h3 id="parameters_31">Parameters<a class="headerlink" href="#parameters_31" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td>object</td>
<td>true</td>
<td></td>
<td></td>
</tr>
<tr>
<td>options.from</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The address the transaction should be sent from.</td>
</tr>
<tr>
<td>options.gasPrice</td>
<td>string</td>
<td>false</td>
<td>contract.defaultGasPrice</td>
<td>The gas price in wei to use for this transaction.</td>
</tr>
<tr>
<td>options.gas</td>
<td>number</td>
<td>false</td>
<td>contract.defaultGas</td>
<td>The maximum gas provided for this transaction (gas limit).</td>
</tr>
<tr>
<td>options.value</td>
<td>number|string|BN|BigNumber</td>
<td>false</td>
<td></td>
<td>The value transferred for the transaction in drip.</td>
</tr>
</tbody>
</table>
<h3 id="return_31">Return<a class="headerlink" href="#return_31" title="Permanent link">&para;</a></h3>
<p><code>Promise.&lt;string&gt;</code> Transaction hash.</p>
<h3 id="example_42">Example<a class="headerlink" href="#example_42" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; await contract.methods.inc(1).send({
    from: '0xbbd9e9be525ab967e633bcdaeac8bd5723ed4d6b',
    gas: 100000000,
    gasPrice: 819
 });
 &quot;0xb01101228cbd8619ab1f8f017530ff945b655472be211eb828b31bc7c97b9d5c&quot;
</code></pre>

<hr />
<h1 id="confluxwebutils_1">ConfluxWeb.utils<a class="headerlink" href="#confluxwebutils_1" title="Permanent link">&para;</a></h1>
<h2 id="confluxwebutilsrandomhex">ConfluxWeb.utils.randomHex<a class="headerlink" href="#confluxwebutilsrandomhex" title="Permanent link">&para;</a></h2>
<p>The randomHex library to generate cryptographically strong pseudo-random HEX strings from a given byte size.</p>
<p><code>function randomHex(bytesSize)</code></p>
<h3 id="parameters_32">Parameters<a class="headerlink" href="#parameters_32" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bytesSize</td>
<td>number</td>
<td>true</td>
<td></td>
<td>given byte size</td>
</tr>
</tbody>
</table>
<h3 id="return_32">Return<a class="headerlink" href="#return_32" title="Permanent link">&para;</a></h3>
<p><code>string</code> The generated random HEX string.</p>
<h3 id="example_43">Example<a class="headerlink" href="#example_43" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.randomHex(32)
 0xd3185018552117d2c4b5277307c455b4746267b27ea133abd288c0b136c3865c

 &gt; confluxWeb.utils.randomHex(4)
 0x472ace2a

 &gt; confluxWeb.utils.randomHex(2)
 0x52ed

 &gt; confluxWeb.utils.randomHex(1)
 0x3b

 &gt; confluxWeb.utils.randomHex(0)
 0x
</code></pre>

<h2 id="confluxwebutilsisbn">ConfluxWeb.utils.isBN<a class="headerlink" href="#confluxwebutilsisbn" title="Permanent link">&para;</a></h2>
<p>Checks if a given value is a BN.js instance.</p>
<p><code>function isBN(bn)</code></p>
<h3 id="parameters_33">Parameters<a class="headerlink" href="#parameters_33" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bn</td>
<td>BN</td>
<td>true</td>
<td></td>
<td>An BN.js instance</td>
</tr>
</tbody>
</table>
<h3 id="return_33">Return<a class="headerlink" href="#return_33" title="Permanent link">&para;</a></h3>
<p><code>boolean</code> </p>
<h3 id="example_44">Example<a class="headerlink" href="#example_44" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; const bn = new BN(10)
 &gt; confluxWeb.utils.isBN(bn)
 true
</code></pre>

<h2 id="confluxwebutilssha3">ConfluxWeb.utils.sha3<a class="headerlink" href="#confluxwebutilssha3" title="Permanent link">&para;</a></h2>
<p>Will calculate the sha3 of the input.</p>
<p><code>function sha3(str)</code></p>
<h3 id="parameters_34">Parameters<a class="headerlink" href="#parameters_34" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>str</td>
<td>string</td>
<td>true</td>
<td></td>
<td>A string to hash</td>
</tr>
</tbody>
</table>
<h3 id="return_34">Return<a class="headerlink" href="#return_34" title="Permanent link">&para;</a></h3>
<p><code>string</code> the result hash.</p>
<h3 id="example_45">Example<a class="headerlink" href="#example_45" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.sha3('234');
 &quot;0xc1912fee45d61c87cc5ea59dae311904cd86b84fee17cc96966216f811ce6a79&quot;

 &gt; confluxWeb.utils.keccak256('234'); // alias
 &quot;0xc1912fee45d61c87cc5ea59dae311904cd86b84fee17cc96966216f811ce6a79&quot;
</code></pre>

<h2 id="confluxwebutilssoliditysha3">ConfluxWeb.utils.soliditySha3<a class="headerlink" href="#confluxwebutilssoliditysha3" title="Permanent link">&para;</a></h2>
<p>Will calculate the sha3 of given input parameters in the same way solidity would.
This means arguments will be ABI converted and tightly packed before being hashed.</p>
<p><code>function soliditySha3(args)</code></p>
<h3 id="parameters_35">Parameters<a class="headerlink" href="#parameters_35" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>...args</td>
<td>Array.&lt;(string|number|object|BN)&gt;</td>
<td>false</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="return_35">Return<a class="headerlink" href="#return_35" title="Permanent link">&para;</a></h3>
<p><code>void</code></p>
<h3 id="example_46">Example<a class="headerlink" href="#example_46" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.soliditySha3('234564535', '0xfff23243', true, -10);
 &quot;0x3e27a893dc40ef8a7f0841d96639de2f58a132be5ae466d40087a2cfa83b7179&quot;

 &gt; confluxWeb.utils.soliditySha3('Hello!%'); // auto detects: string
 &quot;0x661136a4267dba9ccdf6bfddb7c00e714de936674c4bdb065a531cf1cb15c7fc&quot;

 &gt; confluxWeb.utils.soliditySha3('234'); // auto detects: uint256
 &quot;0x61c831beab28d67d1bb40b5ae1a11e2757fa842f031a2d0bc94a7867bc5d26c2&quot;

 &gt; confluxWeb.utils.soliditySha3(0xea); // same as above
 &quot;0x61c831beab28d67d1bb40b5ae1a11e2757fa842f031a2d0bc94a7867bc5d26c2&quot;

 &gt; confluxWeb.utils.soliditySha3(new BN('234')); // same as above
 &quot;0x61c831beab28d67d1bb40b5ae1a11e2757fa842f031a2d0bc94a7867bc5d26c2&quot;

 &gt; confluxWeb.utils.soliditySha3({type: 'uint256', value: '234'}); // same as above
 &quot;0x61c831beab28d67d1bb40b5ae1a11e2757fa842f031a2d0bc94a7867bc5d26c2&quot;

 &gt; confluxWeb.utils.soliditySha3({t: 'uint', v: new BN('234')}); // same as above
 &quot;0x61c831beab28d67d1bb40b5ae1a11e2757fa842f031a2d0bc94a7867bc5d26c2&quot;

 &gt; confluxWeb.utils.soliditySha3('0x407D73d8a49eeb85D32Cf465507dd71d507100c1');
 &quot;0x4e8ebbefa452077428f93c9520d3edd60594ff452a29ac7d2ccc11d47f3ab95b&quot;

 &gt; confluxWeb.utils.soliditySha3({t: 'bytes', v: '0x407D73d8a49eeb85D32Cf465507dd71d507100c1'}); // same result as above
 &quot;0x4e8ebbefa452077428f93c9520d3edd60594ff452a29ac7d2ccc11d47f3ab95b&quot;

 &gt; confluxWeb.utils.soliditySha3({t: 'address', v: '0x407D73d8a49eeb85D32Cf465507dd71d507100c1'}); // same as above, but will do a checksum check, if its multi case
 &quot;0x4e8ebbefa452077428f93c9520d3edd60594ff452a29ac7d2ccc11d47f3ab95b&quot;

 &gt; confluxWeb.utils.soliditySha3({t: 'bytes32', v: '0x407D73d8a49eeb85D32Cf465507dd71d507100c1'}); // different result as above
 &quot;0x3c69a194aaf415ba5d6afca734660d0a3d45acdc05d54cd1ca89a8988e7625b4&quot;

 &gt; confluxWeb.utils.soliditySha3({t: 'string', v: 'Hello!%'}, {t: 'int8', v:-23}, {t: 'address', v: '0x85F43D8a49eeB85d32Cf465507DD71d507100C1d'});
 &quot;0xa13b31627c1ed7aaded5aecec71baf02fe123797fffd45e662eac8e06fbe4955&quot;
</code></pre>

<h2 id="confluxwebutilsishex">ConfluxWeb.utils.isHex<a class="headerlink" href="#confluxwebutilsishex" title="Permanent link">&para;</a></h2>
<p>Checks if a given string is a HEX string.</p>
<p><code>function isHex(hex)</code></p>
<h3 id="parameters_36">Parameters<a class="headerlink" href="#parameters_36" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>hex</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The given HEX string.</td>
</tr>
</tbody>
</table>
<h3 id="return_36">Return<a class="headerlink" href="#return_36" title="Permanent link">&para;</a></h3>
<p><code>boolean</code> </p>
<h3 id="example_47">Example<a class="headerlink" href="#example_47" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.isHex('0xc1912');
 true

 &gt; confluxWeb.utils.isHex(0xc1912);
 true

 &gt; confluxWeb.utils.isHex('c1912');
 true

 &gt; confluxWeb.utils.isHex(345); // this is tricky, as 345 can be a a HEX representation or a number, be careful when not having a 0x in front!
 true

 &gt; confluxWeb.utils.isHex('0xZ1912');
 false

 &gt; confluxWeb.utils.isHex('Hello');
 false
</code></pre>

<h2 id="confluxwebutilsishexstrict">ConfluxWeb.utils.isHexStrict<a class="headerlink" href="#confluxwebutilsishexstrict" title="Permanent link">&para;</a></h2>
<p>Checks if a given string is a HEX string. Difference to isHex() is that it expects HEX to be prefixed with 0x.</p>
<p><code>function isHexStrict(hex)</code></p>
<h3 id="parameters_37">Parameters<a class="headerlink" href="#parameters_37" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>hex</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The given HEX string.</td>
</tr>
</tbody>
</table>
<h3 id="return_37">Return<a class="headerlink" href="#return_37" title="Permanent link">&para;</a></h3>
<p><code>boolean</code> </p>
<h3 id="example_48">Example<a class="headerlink" href="#example_48" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.isHexStrict('0xc1912');
 true

 &gt; confluxWeb.utils.isHexStrict(0xc1912);
 false

 &gt; confluxWeb.utils.isHexStrict('c1912');
 false

 &gt; confluxWeb.utils.isHexStrict(345); // this is tricky, as 345 can be a a HEX representation or a number, be careful when not having a 0x in front!
 false

 &gt; confluxWeb.utils.isHexStrict('0xZ1912');
 false

 &gt; confluxWeb.utils.isHex('Hello');
 false
</code></pre>

<h2 id="confluxwebutilsisaddress">ConfluxWeb.utils.isAddress<a class="headerlink" href="#confluxwebutilsisaddress" title="Permanent link">&para;</a></h2>
<p>Checks if a given string is a valid Conflux address. It will also check the checksum, if the address has upper and lowercase letters.</p>
<p><code>function isAddress(address)</code></p>
<h3 id="parameters_38">Parameters<a class="headerlink" href="#parameters_38" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>address</td>
<td>string</td>
<td>true</td>
<td></td>
<td>An address string.</td>
</tr>
</tbody>
</table>
<h3 id="return_38">Return<a class="headerlink" href="#return_38" title="Permanent link">&para;</a></h3>
<p><code>string</code> The checksum address.</p>
<h3 id="example_49">Example<a class="headerlink" href="#example_49" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.isAddress('0xc1912fee45d61c87cc5ea59dae31190fffff232d');
 true

 &gt; confluxWeb.utils.isAddress('c1912fee45d61c87cc5ea59dae31190fffff232d');
 true

 &gt; confluxWeb.utils.isAddress('0XC1912FEE45D61C87CC5EA59DAE31190FFFFF232D'); // as all is uppercase, no checksum will be checked
 true

 &gt; confluxWeb.utils.isAddress('0xc1912fEE45d61C87Cc5EA59DaE31190FFFFf232d');
 true

 &gt; confluxWeb.utils.isAddress('0xC1912fEE45d61C87Cc5EA59DaE31190FFFFf232d'); // wrong checksum
 false
</code></pre>

<h2 id="confluxwebutilstochecksumaddress">ConfluxWeb.utils.toChecksumAddress<a class="headerlink" href="#confluxwebutilstochecksumaddress" title="Permanent link">&para;</a></h2>
<p>Will convert an upper or lowercase Conflux address to a checksum address.</p>
<p><code>function toChecksumAddress(address)</code></p>
<h3 id="parameters_39">Parameters<a class="headerlink" href="#parameters_39" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>address</td>
<td>string</td>
<td>true</td>
<td></td>
<td>An address string.</td>
</tr>
</tbody>
</table>
<h3 id="return_39">Return<a class="headerlink" href="#return_39" title="Permanent link">&para;</a></h3>
<p><code>void</code></p>
<h3 id="example_50">Example<a class="headerlink" href="#example_50" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.toChecksumAddress('0xc1912fee45d61c87cc5ea59dae31190fffff2323');
 &quot;0xc1912fEE45d61C87Cc5EA59DaE31190FFFFf232d&quot;

 &gt; confluxWeb.utils.toChecksumAddress('0XC1912FEE45D61C87CC5EA59DAE31190FFFFF232D'); // same as above
 &quot;0xc1912fEE45d61C87Cc5EA59DaE31190FFFFf232d&quot;
</code></pre>

<h2 id="confluxwebutilscheckaddresschecksum">ConfluxWeb.utils.checkAddressChecksum<a class="headerlink" href="#confluxwebutilscheckaddresschecksum" title="Permanent link">&para;</a></h2>
<p>Checks the checksum of a given address. Will also return false on non-checksum addresses.</p>
<p><code>function checkAddressChecksum(address)</code></p>
<h3 id="parameters_40">Parameters<a class="headerlink" href="#parameters_40" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>address</td>
<td>string</td>
<td>true</td>
<td></td>
<td>An address string.</td>
</tr>
</tbody>
</table>
<h3 id="return_40">Return<a class="headerlink" href="#return_40" title="Permanent link">&para;</a></h3>
<p><code>boolean</code> true when the checksum of the address is valid, false if its not a checksum address, or the checksum is invalid.</p>
<h3 id="example_51">Example<a class="headerlink" href="#example_51" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.checkAddressChecksum('0xc1912fEE45d61C87Cc5EA59DaE31190FFFFf232d');
 true
</code></pre>

<h2 id="confluxwebutilstohex">ConfluxWeb.utils.toHex<a class="headerlink" href="#confluxwebutilstohex" title="Permanent link">&para;</a></h2>
<p>Will auto convert any given value to HEX. Number strings will interpreted as numbers.
Text strings will be interpreted as UTF-8 strings.</p>
<p><code>function toHex(value)</code></p>
<h3 id="parameters_41">Parameters<a class="headerlink" href="#parameters_41" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>value</td>
<td>string|number|BN|BigNumber</td>
<td>true</td>
<td></td>
<td>The input to convert to HEX.</td>
</tr>
</tbody>
</table>
<h3 id="return_41">Return<a class="headerlink" href="#return_41" title="Permanent link">&para;</a></h3>
<p><code>string</code> The resulting HEX string.</p>
<h3 id="example_52">Example<a class="headerlink" href="#example_52" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.toHex('234');
 &quot;0xea&quot;

 &gt; confluxWeb.utils.toHex(234);
 &quot;0xea&quot;

 &gt; confluxWeb.utils.toHex(new BN('234'));
 &quot;0xea&quot;

 &gt; confluxWeb.utils.toHex(new BigNumber('234'));
 &quot;0xea&quot;

 &gt; confluxWeb.utils.toHex('I have 100â‚¬');
 &quot;0x49206861766520313030e282ac&quot;
</code></pre>

<h2 id="confluxwebutilstobn">ConfluxWeb.utils.toBN<a class="headerlink" href="#confluxwebutilstobn" title="Permanent link">&para;</a></h2>
<p>Will safely convert any given value (including BigNumber.js instances) into a BN.js instance, for handling big numbers in JavaScript.</p>
<blockquote>
<p>NOTE: For just the BN.js class use utils.BN</p>
</blockquote>
<p><code>function toBN(num)</code></p>
<h3 id="parameters_42">Parameters<a class="headerlink" href="#parameters_42" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>num</td>
<td>number|string</td>
<td>true</td>
<td></td>
<td>Number to convert to a big number.</td>
</tr>
</tbody>
</table>
<h3 id="return_42">Return<a class="headerlink" href="#return_42" title="Permanent link">&para;</a></h3>
<p><code>BN</code> The BN.js instance.</p>
<h3 id="example_53">Example<a class="headerlink" href="#example_53" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.toBN(1234).toString();
 &quot;1234&quot;

 &gt; confluxWeb.utils.toBN('1234').add(confluxWeb.utils.toBN('1')).toString();
 &quot;1235&quot;

 &gt; confluxWeb.utils.toBN('0xea').toString();
 &quot;234&quot;
</code></pre>

<h2 id="confluxwebutilshextonumber">ConfluxWeb.utils.hexToNumber<a class="headerlink" href="#confluxwebutilshextonumber" title="Permanent link">&para;</a></h2>
<p>Returns the number representation of a given HEX value.</p>
<blockquote>
<p>NOTE: This is not useful for big numbers, rather use utils.toBN instead.</p>
</blockquote>
<p><code>function hexToNumber(hex)</code></p>
<h3 id="parameters_43">Parameters<a class="headerlink" href="#parameters_43" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>hex</td>
<td>string</td>
<td>true</td>
<td></td>
<td>A string to hash.</td>
</tr>
</tbody>
</table>
<h3 id="return_43">Return<a class="headerlink" href="#return_43" title="Permanent link">&para;</a></h3>
<p><code>number</code> </p>
<h3 id="example_54">Example<a class="headerlink" href="#example_54" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.hexToNumber('0xea');
 234
</code></pre>

<h2 id="confluxwebutilshextonumberstring">ConfluxWeb.utils.hexToNumberString<a class="headerlink" href="#confluxwebutilshextonumberstring" title="Permanent link">&para;</a></h2>
<p>Returns the number representation of a given HEX value as a string.</p>
<p><code>function hexToNumberString(hex)</code></p>
<h3 id="parameters_44">Parameters<a class="headerlink" href="#parameters_44" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>hex</td>
<td>string</td>
<td>true</td>
<td></td>
<td>A string to hash</td>
</tr>
</tbody>
</table>
<h3 id="return_44">Return<a class="headerlink" href="#return_44" title="Permanent link">&para;</a></h3>
<p><code>string</code> The number as a string</p>
<h3 id="example_55">Example<a class="headerlink" href="#example_55" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.hexToNumberString('0xea');
 &quot;234&quot;
</code></pre>

<h2 id="confluxwebutilsnumbertohex">ConfluxWeb.utils.numberToHex<a class="headerlink" href="#confluxwebutilsnumbertohex" title="Permanent link">&para;</a></h2>
<p>Returns the HEX representation of a given number value.</p>
<p><code>function numberToHex(num)</code></p>
<h3 id="parameters_45">Parameters<a class="headerlink" href="#parameters_45" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>num</td>
<td>number|string|BN|BigNumber</td>
<td>true</td>
<td></td>
<td>A number as string or number.</td>
</tr>
</tbody>
</table>
<h3 id="return_45">Return<a class="headerlink" href="#return_45" title="Permanent link">&para;</a></h3>
<p><code>string</code> The HEX value of the given number.</p>
<h3 id="example_56">Example<a class="headerlink" href="#example_56" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.numberToHex('234');
 '0xea'
</code></pre>

<h2 id="confluxwebutilshextoutf8">ConfluxWeb.utils.hexToUtf8<a class="headerlink" href="#confluxwebutilshextoutf8" title="Permanent link">&para;</a></h2>
<p>Returns the UTF-8 string representation of a given HEX value.</p>
<p><code>function hexToUtf8(hex)</code></p>
<h3 id="parameters_46">Parameters<a class="headerlink" href="#parameters_46" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>hex</td>
<td>string</td>
<td>true</td>
<td></td>
<td>A HEX string to convert to a UTF-8 string.</td>
</tr>
</tbody>
</table>
<h3 id="return_46">Return<a class="headerlink" href="#return_46" title="Permanent link">&para;</a></h3>
<p><code>string</code> The UTF-8 string.</p>
<h3 id="example_57">Example<a class="headerlink" href="#example_57" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.hexToUtf8('0x49206861766520313030e282ac');
 &quot;I have 100â‚¬&quot;
</code></pre>

<h2 id="confluxwebutilshextoascii">ConfluxWeb.utils.hexToAscii<a class="headerlink" href="#confluxwebutilshextoascii" title="Permanent link">&para;</a></h2>
<p>Returns the ASCII string representation of a given HEX value.</p>
<p><code>function hexToAscii(hex)</code></p>
<h3 id="parameters_47">Parameters<a class="headerlink" href="#parameters_47" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>hex</td>
<td>string</td>
<td>true</td>
<td></td>
<td>A HEX string to convert to a ASCII string.</td>
</tr>
</tbody>
</table>
<h3 id="return_47">Return<a class="headerlink" href="#return_47" title="Permanent link">&para;</a></h3>
<p><code>string</code> The ASCII string.</p>
<h3 id="example_58">Example<a class="headerlink" href="#example_58" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.hexToAscii('0x4920686176652031303021');
 &quot;I have 100!&quot;
</code></pre>

<h2 id="confluxwebutilsutf8tohex">ConfluxWeb.utils.utf8ToHex<a class="headerlink" href="#confluxwebutilsutf8tohex" title="Permanent link">&para;</a></h2>
<p>Returns the HEX representation of a given UTF-8 string.</p>
<p><code>function utf8ToHex(str)</code></p>
<h3 id="parameters_48">Parameters<a class="headerlink" href="#parameters_48" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>str</td>
<td>string</td>
<td>true</td>
<td></td>
<td>A UTF-8 string to convert to a HEX string.</td>
</tr>
</tbody>
</table>
<h3 id="return_48">Return<a class="headerlink" href="#return_48" title="Permanent link">&para;</a></h3>
<p><code>string</code> The HEX string</p>
<h3 id="example_59">Example<a class="headerlink" href="#example_59" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.utf8ToHex('I have 100â‚¬');
 &quot;0x49206861766520313030e282ac&quot;
</code></pre>

<h2 id="confluxwebutilsasciitohex">ConfluxWeb.utils.asciiToHex<a class="headerlink" href="#confluxwebutilsasciitohex" title="Permanent link">&para;</a></h2>
<p>Returns the HEX representation of a given ASCII string.</p>
<blockquote>
<p>NOTE: it behaves differently from 1.2.1</p>
</blockquote>
<p><code>function asciiToHex(str)</code></p>
<h3 id="parameters_49">Parameters<a class="headerlink" href="#parameters_49" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>str</td>
<td>string</td>
<td>true</td>
<td></td>
<td>A ASCII string to convert to a HEX string.</td>
</tr>
</tbody>
</table>
<h3 id="return_49">Return<a class="headerlink" href="#return_49" title="Permanent link">&para;</a></h3>
<p><code>string</code> The HEX string</p>
<h3 id="example_60">Example<a class="headerlink" href="#example_60" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.asciiToHex('I have 100!');
 &quot;0x4920686176652031303021&quot;
</code></pre>

<h2 id="confluxwebutilshextobytes">ConfluxWeb.utils.hexToBytes<a class="headerlink" href="#confluxwebutilshextobytes" title="Permanent link">&para;</a></h2>
<p>Returns a byte array from the given HEX string.</p>
<blockquote>
<p>NOTE: it behaves differently from 1.2.1</p>
</blockquote>
<p><code>function hexToBytes(hex)</code></p>
<h3 id="parameters_50">Parameters<a class="headerlink" href="#parameters_50" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>hex</td>
<td>string</td>
<td>true</td>
<td></td>
<td>A HEX to convert.</td>
</tr>
</tbody>
</table>
<h3 id="return_50">Return<a class="headerlink" href="#return_50" title="Permanent link">&para;</a></h3>
<p><code>array</code> The byte array.</p>
<h3 id="example_61">Example<a class="headerlink" href="#example_61" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.hexToBytes('0x000000ea');
 [ 0, 0, 0, 234 ]

 &gt; confluxWeb.utils.hexToBytes(0x000000ea);
 [ 234 ]
</code></pre>

<h2 id="confluxwebutilsbytestohex">ConfluxWeb.utils.bytesToHex<a class="headerlink" href="#confluxwebutilsbytestohex" title="Permanent link">&para;</a></h2>
<p>Returns a HEX string from a byte array.</p>
<p><code>function bytesToHex(byteArray)</code></p>
<h3 id="parameters_51">Parameters<a class="headerlink" href="#parameters_51" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>byteArray</td>
<td>array</td>
<td>true</td>
<td></td>
<td>A byte array to convert.</td>
</tr>
</tbody>
</table>
<h3 id="return_51">Return<a class="headerlink" href="#return_51" title="Permanent link">&para;</a></h3>
<p><code>string</code> The HEX string</p>
<h3 id="example_62">Example<a class="headerlink" href="#example_62" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.bytesToHex([ 72, 101, 108, 108, 111, 33, 36 ]);
 &quot;0x48656c6c6f2124&quot;
</code></pre>

<h2 id="confluxwebutilstodrip">ConfluxWeb.utils.toDrip<a class="headerlink" href="#confluxwebutilstodrip" title="Permanent link">&para;</a></h2>
<p>Converts any cfx value value into drip.</p>
<blockquote>
<p>NOTE: "drip" are the smallest conflux unit, and you should always make calculations in drip and convert only for display reasons.</p>
<p>NOTE: can not pass a Number, only string or BN are acceptable</p>
</blockquote>
<p><code>function toDrip(str,unit)</code></p>
<h3 id="parameters_52">Parameters<a class="headerlink" href="#parameters_52" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>str</td>
<td>string|BN</td>
<td>true</td>
<td></td>
<td>The value</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>false</td>
<td>"cfx"</td>
<td>The cfx to convert from. Possible units are ['cfx', 'gdrip', 'drip']</td>
</tr>
</tbody>
</table>
<h3 id="return_52">Return<a class="headerlink" href="#return_52" title="Permanent link">&para;</a></h3>
<p><code>string|BN</code> If a number, or string is given it returns a number string, otherwise a BN.js instance.</p>
<h3 id="example_63">Example<a class="headerlink" href="#example_63" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.toDrip('1');
 &quot;1000000000000000000&quot;

 &gt; confluxWeb.utils.toDrip('1', 'cfx');
 &quot;1000000000000000000&quot;

 &gt; confluxWeb.utils.toDrip('1', 'gdrip');
 &quot;1000000000&quot;

 &gt; confluxWeb.utils.toDrip('1', 'drip');
 &quot;1&quot;
</code></pre>

<h2 id="confluxwebutilsfromdrip">ConfluxWeb.utils.fromDrip<a class="headerlink" href="#confluxwebutilsfromdrip" title="Permanent link">&para;</a></h2>
<p>Converts any drip value into a cfx value.</p>
<blockquote>
<p>NOTE: "drip" are the smallest conflux unit, and you should always make calculations in drip and convert only for display reasons.</p>
<p>NOTE: can not pass a Number, only string or BN are acceptable</p>
</blockquote>
<p><code>function fromDrip(str,unit)</code></p>
<h3 id="parameters_53">Parameters<a class="headerlink" href="#parameters_53" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>str</td>
<td>string|BN</td>
<td>true</td>
<td></td>
<td>The value in drip</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>false</td>
<td>"cfx"</td>
<td>The cfx to convert to. Possible units are ['cfx', 'gdrip', 'drip']</td>
</tr>
</tbody>
</table>
<h3 id="return_53">Return<a class="headerlink" href="#return_53" title="Permanent link">&para;</a></h3>
<p><code>string|BN</code> If a number, or string is given it returns a number string, otherwise a BN.js instance.</p>
<h3 id="example_64">Example<a class="headerlink" href="#example_64" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.fromDrip('1');
 &quot;0.000000000000000001&quot;

 &gt; confluxWeb.utils.fromDrip('1', 'cfx');
 &quot;0.000000000000000001&quot;

 &gt; confluxWeb.utils.fromDrip('1', 'gdrip');
 &quot;0.000000001&quot;

 &gt; confluxWeb.utils.fromDrip('1', 'gdrip');
 &quot;1&quot;
</code></pre>

<h2 id="confluxwebutilspadleft">ConfluxWeb.utils.padLeft<a class="headerlink" href="#confluxwebutilspadleft" title="Permanent link">&para;</a></h2>
<p>Adds a padding on the left of a string, Useful for adding paddings to HEX strings.</p>
<p><code>function padLeft(value,characterAmount,sign)</code></p>
<h3 id="parameters_54">Parameters<a class="headerlink" href="#parameters_54" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>value</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The string to add padding on the left.</td>
</tr>
<tr>
<td>characterAmount</td>
<td>number</td>
<td>true</td>
<td></td>
<td>The number of characters the total string should have.</td>
</tr>
<tr>
<td>sign</td>
<td>string</td>
<td>false</td>
<td>"0"</td>
<td>The character sign to use.</td>
</tr>
</tbody>
</table>
<h3 id="return_54">Return<a class="headerlink" href="#return_54" title="Permanent link">&para;</a></h3>
<p><code>string</code> The padded string.</p>
<h3 id="example_65">Example<a class="headerlink" href="#example_65" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.padLeft('0x3456ff', 20);
 &quot;0x000000000000003456ff&quot;

 &gt; confluxWeb.utils.padLeft(0x3456ff, 20);
 &quot;0x000000000000003456ff&quot;

 &gt; confluxWeb.utils.padLeft('Hello', 20, 'x');
 &quot;xxxxxxxxxxxxxxxHello&quot;
</code></pre>

<h2 id="confluxwebutilspadright">ConfluxWeb.utils.padRight<a class="headerlink" href="#confluxwebutilspadright" title="Permanent link">&para;</a></h2>
<p>Adds a padding on the right of a string, Useful for adding paddings to HEX strings.</p>
<p><code>function padRight(value,characterAmount,sign)</code></p>
<h3 id="parameters_55">Parameters<a class="headerlink" href="#parameters_55" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>value</td>
<td>string</td>
<td>true</td>
<td></td>
<td>The string to add padding on the right.</td>
</tr>
<tr>
<td>characterAmount</td>
<td>number</td>
<td>true</td>
<td></td>
<td>The number of characters the total string should have.</td>
</tr>
<tr>
<td>sign</td>
<td>string</td>
<td>false</td>
<td>"0"</td>
<td>The character sign to use.</td>
</tr>
</tbody>
</table>
<h3 id="return_55">Return<a class="headerlink" href="#return_55" title="Permanent link">&para;</a></h3>
<p><code>string</code> The padded string.</p>
<h3 id="example_66">Example<a class="headerlink" href="#example_66" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.padRight('0x3456ff', 20);
 &quot;0x3456ff00000000000000&quot;

 &gt; confluxWeb.utils.padRight(0x3456ff, 20);
 &quot;0x3456ff00000000000000&quot;

 &gt; confluxWeb.utils.padRight('Hello', 20, 'x');
 &quot;Helloxxxxxxxxxxxxxxx&quot;
</code></pre>

<h2 id="confluxwebutilstotwoscomplement">ConfluxWeb.utils.toTwosComplement<a class="headerlink" href="#confluxwebutilstotwoscomplement" title="Permanent link">&para;</a></h2>
<p>Converts a negative numer into a twoâ€™s complement.</p>
<p><code>function toTwosComplement(value)</code></p>
<h3 id="parameters_56">Parameters<a class="headerlink" href="#parameters_56" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>value</td>
<td>number|string|BigNumber</td>
<td>true</td>
<td></td>
<td>The number to convert.</td>
</tr>
</tbody>
</table>
<h3 id="return_56">Return<a class="headerlink" href="#return_56" title="Permanent link">&para;</a></h3>
<p><code>string</code> The converted hex string.</p>
<h3 id="example_67">Example<a class="headerlink" href="#example_67" title="Permanent link">&para;</a></h3>
<pre><code class="js"> &gt; confluxWeb.utils.toTwosComplement('-1');
 &quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;

 &gt; confluxWeb.utils.toTwosComplement(-1);
 &quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;

 &gt; confluxWeb.utils.toTwosComplement('0x1');
 &quot;0x0000000000000000000000000000000000000000000000000000000000000001&quot;

 &gt; confluxWeb.utils.toTwosComplement(-15);
 &quot;0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1&quot;

 &gt; confluxWeb.utils.toTwosComplement('-0x1');
 &quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
